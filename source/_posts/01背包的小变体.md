---
title: 二维费用背包
excerpt: 二维费用背包
tags: dp
categories: 背包系列
quicklink: true
date: 2023-11-30 09:16:00
---

## 二维费用背包

01背包搞定了，这个没啥问题，就是举一反三

## 题目

有n件物品和一个容量是V的背包，背包能承受的最大重量是M。每件物品只能用1次。体积是$v_i$，重量是$m_i$，价值是$c_i$，求解将哪些物品放入背包，可使总体积不超过背包容量，总重量不超过背包可承受的最大重量，且价值总和最大。输出最大价值

## 输入

第一行三个整数n,V,M。分别表示物品件数、背包容量和背包可承受最大重量

接下来有n行，每行三个整数$v_i、m_i、c_i$，分别表示第$i$件物品的体积重量和价值

eg： 

4 5 6

1 2 3

2 4 4

3 4 5

4 5 6

输出一个8

## 思路

我们类比一维费用01背包，推广二维费用01背包

先看看01背包，我们是对一个参数价值加了限制最多能有多少，假设这个是体积,代码

```cpp
for(int i=1;i<=n;i++){
    for(int j=V;j>=v[i];j--){
        f[j]=max(f[j],f[j-v[i]]+c[i]);
    }
}
cout << f[V];
```

而如今我们对两个参数加了限制，体积和重量。那么我们就还需要再里面加一层递推

```cpp
for(int i=1;i<=n;i++){
    for(int j=V;j>=v[i];j--){
        for(int k=M;k>=w[i];k--){
            f[j][k] = max(f[j][k],f[j-v[i]][k-w[i]]+c[i]);
        }
    }
}
cout << f[V][M];
```

诺~，这不就轻轻松松出来了😄😄

往后，如果题目遇到加了几个限制的，那也无非就是多套个循环，我看到一些佬管这个叫01背包的变异背包。

练习题

https://www.luogu.com.cn/problem/P1910 


