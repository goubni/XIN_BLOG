---
title: è®¾è®¡æ¨¡å¼
excerpt: æ¥å­¦è®¾è®¡æ¨¡å¼
tags: è®¾è®¡æ¨¡å¼
categories: è®¾è®¡æ¨¡å¼ 
quicklink: true
date: 2023-10-16 10:28:00
update: 2023-10-16 22:00:00    
---

# æ¦‚è¿°

## ä¸ºä»€ä¹ˆè¦å­¦è®¾è®¡æ¨¡å¼

1. è½¯è€ƒè¦è€ƒ ï¼ˆbushiï¼‰

2. è®¾è®¡æ¨¡å¼æ¥æºäºä¼—å¤šä¸“å®¶çš„ç»éªŒå’Œæ™ºæ…§ï¼Œä½¿ç”¨è¿™äº›æ–¹æ¡ˆå¯ä»¥è®©æˆ‘ä»¬é¿å…åšä¸€äº›é‡å¤æ€§çš„å·¥ä½œï¼Œæœ‰åŠ©äºæˆ‘ä»¬æé«˜å¼€å‘å’Œè®¾è®¡æ•ˆç‡

3. è®¾è®¡æ¨¡å¼è·¨è¯­è¨€ã€è·¨å¹³å°ã€è·¨åº”ç”¨ï¼Œæ–¹ä¾¿å¼€å‘äººå‘˜äº¤æµ

4. å­¦ä¹ è®¾è®¡æ¨¡å¼å°†æœ‰åŠ©äºåˆå­¦è€…æ›´åŠ æ·±å…¥åœ°ç†è§£é¢å‘å¯¹è±¡æ€æƒ³ã€‚

å…ˆäº†è§£å‡ ç§é¢å‘å¯¹è±¡åœ°è®¾è®¡åŸåˆ™:

## é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™

| è®¾è®¡åŸåˆ™åç§° | å®šä¹‰                        | ä½¿ç”¨é¢‘ç‡ |
|:------:|:-------------------------:|:----:|
| å•ä¸€èŒè´£åŸåˆ™ | ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½é¢†åŸŸä¸­çš„ç›¸åº”èŒè´£        | é«˜    |
| å¼€é—­åŸåˆ™   | è½¯ä»¶å®ä½“åº”å¯¹æ‰©å±•å¼€æ”¾ï¼Œè€Œå¯¹ä¿®æ”¹å…³é—­         | é«˜    |
| é‡Œæ°ä»£æ¢åŸåˆ™ | æ‰€æœ‰å¼•ç”¨åŸºç±»å¯¹è±¡çš„åœ°æ–¹éƒ½èƒ½å¤Ÿé€æ˜åœ°ä½¿ç”¨å…¶å­ç±»åœ°å¯¹è±¡ | é«˜    |
| ä¾èµ–å€’è½¬åŸåˆ™ | æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡      | é«˜    |
| æ¥å£éš”ç¦»åŸåˆ™ | ä½¿ç”¨å¤šä¸ªä¸“é—¨åœ°æ¥å£ï¼Œè€Œä¸ä½¿ç”¨å•ä¸€åœ°æ€»æ¥å£      | ä½    |
| åˆæˆå¤ç”¨åŸåˆ™ | å°½é‡ä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç»§æ‰¿æ¥è¾¾åˆ°å¤ç”¨åœ°ç›®çš„    | é«˜    |
| è¿ªç±³ç‰¹æ³•åˆ™  | ä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å°½å¯èƒ½å°‘åœ°ä¸å…¶ä»–å®ä½“å‘ç”Ÿ      | ä¸€èˆ¬   |

### å•ä¸€èŒè´£åŸåˆ™

å•ä¸€èŒè´£åŸåˆ™(Single Responsibility Principle, SRP)ï¼šä¸€ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½é¢†åŸŸä¸­çš„ç›¸åº”èŒè´£ï¼Œæˆ–è€…å¯ä»¥å®šä¹‰ä¸ºï¼šå°±ä¸€ä¸ªç±»è€Œè¨€ï¼Œåº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ã€‚ä¸€ä¸ªç±»æ‰¿æ‹…åœ°è´£ä»»è¶Šå¤šï¼Œå®ƒè¢«å¤ç”¨åœ°å¯èƒ½æ€§å°±è¶Šå°ã€‚**å•ä¸€èŒè´£åŸåˆ™æ˜¯å®ç°<mark>é«˜å†…èšä½è€¦åˆ</mark>åœ°æŒ‡å¯¼æ–¹é’ˆ**

eg:ç»™å‡ºä¸€ä¸ªå®¢æˆ·ç±»çš„è®¾è®¡

```java
class Customer {
    //è¿æ¥æ•°æ®åº“
    public void getConnection(){}
    //å¯»æ‰¾å®¢æˆ·
    public Object findCustomer(){}
    //åˆ›å»ºäº§å“
    public Object createproduct(){}
    //å±•ç¤ºäº§å“
    public void displayproduct(){}
}
```

ç°åœ¨è¦ä½ ç”¨å•ä¸€èŒè´£åŸåˆ™æ¥é‡æ„è¿™ä¸€æ®µä»£ç 

æ¥çœ‹çœ‹è¿™æ®µä»£ç çš„é—®é¢˜ï¼šCustomerç±»æ‰¿æ‹…äº†å¤ªå¤šèŒè´£ï¼Œå®ƒæ—¢æœ‰è¿æ¥æ•°æ®åº“çš„æ–¹æ³•ï¼Œä¹Ÿæœ‰å¯»æ‰¾å®¢æˆ·çš„æ–¹æ³•ï¼Œå¦‚æœå…¶ä»–çš„ç±»ä¸­ä¹Ÿæœ‰éœ€è¦è¿™äº›æ–¹æ³•çš„æ—¶å€™ï¼Œåˆ™ä»£ç éš¾ä»¥é‡ç”¨ã€‚å› æ­¤å¯ä»¥å¯¹è¿™ä¸ªç±»è¿›è¡Œæ‹†åˆ†ï¼Œæ¥æ»¡è¶³å•ä¸€èŒè´£åŸåˆ™ã€‚å¯ä»¥å°†è¿™ä¸ªç±»æ‹†æˆ3ä¸ªç±»ï¼ŒDButilç”¨äºè¿æ¥æ•°æ®åº“ï¼ŒCustomerDAOç”¨äºfindCustomerï¼ŒProductç”¨äºåˆ›å»ºå’Œå±•ç¤ºäº§å“

```java
public class DBUtil {
    public void getConnection() {
        // è¿æ¥æ•°æ®åº“çš„ä»£ç 
    }
}

public class CustomerDAO {
    private DBUtil dbUtil;

    public CustomerDAO(DBUtil dbUtil) {
        this.dbUtil = dbUtil;
    }

    public Object findCustomer() {
        dbUtil.getConnection();
        // å®¢æˆ·æŸ¥æ‰¾çš„ä»£ç 
        return null;
    }
}

public class Product {
    public Object createProduct() {
        // åˆ›å»ºäº§å“çš„ä»£ç 
        return null;
    }

    public void displayProduct() {
        // å±•ç¤ºäº§å“çš„ä»£ç 
    }
}

public class Customer {
    private DBUtil dbUtil;
    private CustomerDAO customerDAO;
    private Product product;

    public Customer(DBUtil dbUtil, CustomerDAO customerDAO, Product product) {
        this.dbUtil = dbUtil;
        this.customerDAO = customerDAO;
        this.product = product;
    }

    public void connectToDB() {
        dbUtil.getConnection();
    }

    public Object findCustomer() {
        return customerDAO.findCustomer();
    }

    public Object createProduct() {
        return product.createProduct();
    }

    public void displayProduct() {
        product.displayProduct();
    }
}
```

è¿™æ ·é‡æ„ä¹‹åï¼Œæ¯ä¸ªç±»éƒ½æœ‰è‡ªå·±çš„ä½œç”¨ï¼ŒCustomerç°åœ¨ä¾èµ–DBUtilï¼ŒProductï¼ŒCustomerDAOï¼Œéœ€è¦æ—¶é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ï¼Œè¿™ç§è®¾è®¡æ–¹å¼ä»£ç å¤ç”¨æ€§å¼ºï¼Œå¦‚æœè¿˜æœ‰åˆ«çš„ç±»éœ€è¦è¿™æ ·çš„åŠŸèƒ½ï¼Œå°±ç›´æ¥è°ƒæ–¹æ³•å°±å¯ä»¥äº†

### å¼€é—­åŸåˆ™

å¼€é—­åŸåˆ™(Open-Closed Principle, OCP)ï¼šä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚å³è½¯ä»¶å®ä½“åº”å°½é‡åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹è¿›è¡Œæ‰©å±•ã€‚

å…ˆæ¥çœ‹ä¸€æ®µä»£ç 

```java
public class ChartDisplay {
    public void display(String type) {
        if (type.equals("pie")) {
            PieChart chart = new PieChart();
            chart.display();
        } else if (type.equals("bar")) {
            BarChart chart = new BarChart();
            chart.display();
        }
    }
}

public class PieChart {
    public void display() {
        // æ˜¾ç¤ºé¥¼çŠ¶å›¾çš„ä»£ç 
    }
}

public class BarChart {
    public void display() {
        // æ˜¾ç¤ºæŸ±çŠ¶å›¾çš„ä»£ç 
    }
}
```

å¯ä»¥çœ‹å‡ºdisplayè¿™ä¸ªæ–¹æ³•æ˜¯åˆ¤æ–­ä¼ è¿›æ¥çš„å­—ç¬¦ä¸²æ˜¯ä»€ä¹ˆç±»å‹ï¼Œå†æ¥åˆ›å»ºæŠ˜çº¿å›¾å¯¹è±¡ã€‚è¿™æ ·çš„è®¾è®¡æ–¹å¼å¼Šç«¯å¾ˆå¤§ï¼šå¦‚æœæ–°å¢åŠ äº†ä¸€ä¸ªç±»LineChartï¼Œé‚£ä¹ˆè¿™æ®µä»£ç çš„displayéƒ¨åˆ†å°±å¿…é¡»ä¿®æ”¹é€»è¾‘ï¼Œè¿™å°±è¿æ³•äº†å¼€é—­åŸåˆ™ã€‚ç°åœ¨å¯¹è¿™æ®µä»£ç è¿›è¡Œé‡æ„

```java
public abstract class AbstractChart {
    public abstract void display();
}

public class ChartDisplay {
    private AbstractChart chart;
    public void setChart(AbstractChart chart) {
        this.chart = chart;
    }

    public void display() {
        chart.display();
    }
}

public class PieChart extends AbstractChart {
    public void display() {
        // æ˜¾ç¤ºé¥¼çŠ¶å›¾çš„ä»£ç 
    }
}

public class BarChart extends AbstractChart {
    public void display() {
        // æ˜¾ç¤ºæŸ±çŠ¶å›¾çš„ä»£ç 
    }
}

// æ–°å¢çš„æŠ˜çº¿å›¾ç±»
public class LineChart extends AbstractChart {
    public void display() {
        // æ˜¾ç¤ºæŠ˜çº¿å›¾çš„ä»£ç 
    }
}
```

ä¸éš¾çœ‹å‡ºï¼Œè¿™ä¼šç”¨åˆ°é‡Œå¼ä»£æ¢åŸåˆ™ï¼Œå…ˆå°†å›¾è¡¨æŠ½è±¡æˆä¸€ä¸ªç±»ï¼Œå†å®šä¹‰æŠ½è±¡æ–¹æ³•displayã€‚

è¿™æ ·ï¼Œå¦‚æœéœ€è¦å¢åŠ ä¸€ç§æ–°çš„å›¾è¡¨ï¼Œå¦‚æŠ˜çº¿å›¾ `LineChart`ï¼Œåªéœ€å°† `LineChart` ä½œä¸º `AbstractChart` çš„å­ç±»ï¼Œç„¶ååœ¨å®¢æˆ·ç«¯å‘ `ChartDisplay` ä¸­æ³¨å…¥ä¸€ä¸ª `LineChart` å¯¹è±¡å³å¯ï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰ç±»åº“çš„æºä»£ç ã€‚è¿™ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œå¯¹æ‰©å±•æ˜¯å¼€æ”¾çš„ï¼Œå¯¹ä¿®æ”¹æ˜¯å°é—­çš„ã€‚

### é‡Œå¼ä»£æ¢åŸåˆ™

é‡Œæ°ä»£æ¢åŸåˆ™å‘Šè¯‰æˆ‘ä»¬ï¼Œåœ¨è½¯ä»¶ä¸­å°†ä¸€ä¸ªåŸºç±»å¯¹è±¡æ›¿æ¢æˆå®ƒçš„å­ç±»å¯¹è±¡ï¼Œç¨‹åºå°†ä¸ä¼šäº§ç”Ÿä»»ä½•é”™è¯¯å’Œå¼‚å¸¸ï¼Œåè¿‡æ¥åˆ™ä¸æˆç«‹ï¼Œå¦‚æœä¸€ä¸ªè½¯ä»¶å®ä½“ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå­ç±»å¯¹è±¡çš„è¯ï¼Œé‚£ä¹ˆå®ƒä¸ä¸€å®šèƒ½å¤Ÿä½¿ç”¨åŸºç±»å¯¹è±¡ã€‚ä¾‹å¦‚ï¼šæˆ‘å–œæ¬¢åŠ¨ç‰©ï¼Œé‚£æˆ‘ä¸€å®šå–œæ¬¢ç‹—ï¼Œå› ä¸ºç‹—æ˜¯åŠ¨ç‰©çš„å­ç±»ï¼›ä½†æ˜¯æˆ‘å–œæ¬¢ç‹—ï¼Œä¸èƒ½æ®æ­¤æ–­å®šæˆ‘å–œæ¬¢åŠ¨ç‰©ï¼Œå› ä¸ºæˆ‘å¹¶ä¸å–œæ¬¢è€é¼ ï¼Œè™½ç„¶å®ƒä¹Ÿæ˜¯åŠ¨ç‰©ã€‚

é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å®ç°å¼€é—­åŸåˆ™çš„é‡è¦æ–¹å¼ä¹‹ä¸€ï¼Œç”±äºä½¿ç”¨åŸºç±»å¯¹è±¡çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨å­ç±»å¯¹è±¡ï¼Œå› æ­¤**åœ¨ç¨‹åºä¸­å°½é‡ä½¿ç”¨åŸºç±»ç±»å‹æ¥å¯¹å¯¹è±¡è¿›è¡Œå®šä¹‰ï¼Œè€Œåœ¨è¿è¡Œæ—¶å†ç¡®å®šå…¶å­ç±»ç±»å‹ï¼Œç”¨å­ç±»å¯¹è±¡æ¥æ›¿æ¢çˆ¶ç±»å¯¹è±¡**ã€‚

> æˆ‘ä¸ªäººè®¤ä¸ºå­¦äº†javaSEä¸­çš„å¤šæ€è¿™ç‚¹å¯ä»¥è‡ªè¡Œç†è§£

### ä¾èµ–å€’è½¬åŸåˆ™

**ä¾èµ–å€’è½¬åŸåˆ™(Dependency InversionÂ  Principle, DIP)ï¼šæŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”å½“ä¾èµ–äºæŠ½è±¡ã€‚æ¢è¨€ä¹‹ï¼Œè¦é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹ã€‚**

å­¦äº†Springçš„è¿™ä¸ªä¹Ÿèƒ½ç§’æ‡‚çš„

ä¾èµ–å€’è½¬åŸåˆ™è¦æ±‚æˆ‘ä»¬åœ¨ç¨‹åºä»£ç ä¸­ä¼ é€’å‚æ•°æ—¶æˆ–åœ¨å…³è”å…³ç³»ä¸­ï¼Œ**å°½é‡å¼•ç”¨å±‚æ¬¡é«˜çš„æŠ½è±¡å±‚ç±»ï¼Œå³ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»**è¿›è¡Œå˜é‡ç±»å‹å£°æ˜ã€å‚æ•°ç±»å‹å£°æ˜ã€æ–¹æ³•è¿”å›ç±»å‹å£°æ˜ï¼Œä»¥åŠæ•°æ®ç±»å‹çš„è½¬æ¢ç­‰ï¼Œè€Œä¸è¦ç”¨å…·ä½“ç±»æ¥åšè¿™äº›äº‹æƒ…ã€‚ä¸ºäº†ç¡®ä¿è¯¥åŸåˆ™çš„åº”ç”¨ï¼Œä¸€ä¸ªå…·ä½“ç±»åº”å½“åªå®ç°æ¥å£æˆ–æŠ½è±¡ç±»ä¸­å£°æ˜è¿‡çš„æ–¹æ³•ï¼Œè€Œä¸è¦ç»™å‡ºå¤šä½™çš„æ–¹æ³•ï¼Œå¦åˆ™å°†æ— æ³•è°ƒç”¨åˆ°åœ¨å­ç±»ä¸­å¢åŠ çš„æ–°æ–¹æ³•ã€‚è¯´é€šä¿—ç‚¹å°±æ˜¯é’ˆå¯¹æŠ½è±¡å±‚æ¥ç¼–ç¨‹ï¼Œå°†å…·ä½“ç±»çš„å¯¹è±¡é€šè¿‡**ä¾èµ–æ³¨å…¥(DependencyInjection, DI)**çš„æ–¹å¼æ³¨å…¥åˆ°å…¶ä»–å¯¹è±¡ä¸­

ç¤ºä¾‹ä»£ç 

```java
// æŠ½è±¡ç”µæ¢¯æ¥å£
public interface Elevator {
    void moveUp();
    void moveDown();
}

// ç”µæ¢¯æ§åˆ¶å™¨ç±»ï¼Œä¾èµ–æŠ½è±¡ç”µæ¢¯æ¥å£
public class ElevatorController {
    private Elevator elevator;

    public ElevatorController(Elevator elevator) {
        this.elevator = elevator;
    }

    public void goUp() {
        elevator.moveUp();
    }

    public void goDown() {
        elevator.moveDown();
    }
}

// å®ç°äº†æŠ½è±¡ç”µæ¢¯æ¥å£çš„å…·ä½“ç”µæ¢¯ç±»
public class SimpleElevator implements Elevator {
    public void moveUp() {
        System.out.println("SimpleElevator: Moving up");
    }

    public void moveDown() {
        System.out.println("SimpleElevator: Moving down");
    }
}

// é«˜çº§ç”µæ¢¯ç±»ï¼Œä¹Ÿå®ç°äº†æŠ½è±¡ç”µæ¢¯æ¥å£
public class AdvancedElevator implements Elevator {
    public void moveUp() {
        System.out.println("AdvancedElevator: Moving up");
    }

    public void moveDown() {
        System.out.println("AdvancedElevator: Moving down");
    }
}
```

è¿™é‡Œæˆ‘ä»¬é’ˆå¯¹æŠ½è±¡å±‚ç¼–ç¨‹ä½“ç°åœ¨ `private Elevator e;`,å†é€šè¿‡æ„é€ æ–¹æ³•å°†ä¼ å…¥çš„å¯¹è±¡æ³¨å…¥è¿›è¿™ä¸ªeä¸­ï¼Œä¼šå‘ç°ï¼Œè¿™é‡Œåˆä½“ç°äº†é‡Œæ°ä»£æ¢åŸåˆ™ã€‚åœ¨ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª `SimpleElevator` ç±»å’Œä¸€ä¸ª `AdvancedElevator` ç±»ï¼Œå®ƒä»¬éƒ½å®ç°äº†æŠ½è±¡ç”µæ¢¯æ¥å£ `Elevator`ã€‚é€šè¿‡åœ¨ç”µæ¢¯æ§åˆ¶å™¨ç±»çš„æ„é€ å‡½æ•°ä¸­ä¼ å…¥ç›¸åº”çš„å…·ä½“ç”µæ¢¯å¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸åŒç±»å‹çš„ç”µæ¢¯ï¼Œè€Œæ— éœ€ä¿®æ”¹ç”µæ¢¯æ§åˆ¶å™¨çš„æºä»£ç ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬ç¬¦åˆäº†ä¾èµ–å€’è½¬åŸåˆ™ï¼Œé«˜å±‚æ¨¡å—ï¼ˆ`ElevatorController`ï¼‰ä¾èµ–äºæŠ½è±¡ï¼ˆ`Elevator`ï¼‰è€Œéå…·ä½“å®ç°ï¼Œè¾¾åˆ°äº†è§£è€¦å’Œçµæ´»æ€§çš„ç›®çš„ã€‚

### åˆæˆå¤ç”¨åŸåˆ™

**åˆæˆå¤ç”¨åŸåˆ™(Composite Reuse Principle, CRP)ï¼šå°½é‡ä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç»§æ‰¿æ¥è¾¾åˆ°å¤ç”¨çš„ç›®çš„**ï¼Œæ˜¯è¿™æ ·çš„ï¼Œç»§æ‰¿ä¼šå¯¼è‡´å­ç±»çˆ¶ç±»ç´§å¯†è€¦åˆï¼Œå¦‚æœè¦ä¿®æ”¹çˆ¶ç±»çš„ä»£ç ï¼Œå­ç±»ä¹Ÿä¼šæ”¶åˆ°å½±å“ï¼Œåˆä¼šå¼•å‘ä¸€ç³»åˆ—é—®é¢˜ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œç»„åˆæä¾›äº†æ›´çµæ´»çš„æ–¹å¼æ¥æ„å»ºå¯¹è±¡é—´çš„å…³ç³»ã€‚

å‡è®¾ä½ æœ‰ä¸€ä¸ªè½¦Carï¼Œä»–æœ‰è½®å­(Wheel),æœ‰å‘åŠ¨æœº(Engin),æœ‰è½¦å£³(kezi),ç”¨åˆæˆå¤ç”¨åŸåˆ™è®¾è®¡è¿™è¾†è½¦

ä»£ç ç¤ºä¾‹

```java
public interface Component {
    String getDescription();
}
public class Engine implements Component {
    @Override
    public String getDescription() {
        return "Engine component";

    }
}
public class Wheel implements Component {
    @Override
    public String getDescription() {
        return "Wheel component";
    }
}
public class kezi implements Component {
    @Override
    public String getDescription() {
        return "kezi component";
    }
}
public class Car {
    private Component engine;
    private Component wheel;
    private Component steeringWheel;

    public Car() {
        engine = new Engine();
        wheel = new Wheel();
        steeringWheel = new SteeringWheel();
    }

    public String getDescription() {
        StringBuilder sb = new StringBuilder();
        sb.append("Car consists of:\n");
        sb.append(engine.getDescription()).append("\n");
        sb.append(wheel.getDescription()).append("\n");
        sb.append(steeringWheel.getDescription()).append("\n");
        return sb.toString();
    }
}
```

æµ‹è¯•ç±»

```java
public class Main {
    public static void main(String[] args) {
        Car car = new Car();
        String description = car.getDescription();
        System.out.println(description);
    }
}
```

> é€šè¿‡ç»„åˆå…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å°†è‹¥å¹²ä¸ªå¯¹è±¡ç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä»è€Œå®ç°ä»£ç çµæ´»æ€§

### è¿ªç±³ç‰¹æ³•åˆ™

æš‚ç•¥

### æ¥å£éš”ç¦»åŸåˆ™

æš‚ç•¥

<br>

# åˆå§‹-äº†è§£ç®€å•å·¥å‚æ¨¡å¼

ç®€å•å·¥å‚æ¨¡å¼å¹¶ä¸åœ¨23ç§è®¾è®¡æ¨¡å¼çš„èŒƒç•´ç§ï¼Œä½†æ˜¯ä¸€ä¸ªç»å¸¸ç”¨çš„åˆ°ï¼Œå…¥é—¨å¿…å­¦çš„æ¨¡å¼ã€‚

æ¡ˆä¾‹ï¼šç”¨javaå¼€å‘ä¸€å¥—å›¾è¡¨åº“ï¼Œè¯¥å›¾è¡¨åº“å¯ä»¥æä¾›å„ç§ä¸åŒå¤–è§‚çš„å›¾è¡¨ï¼Œä¾‹å¦‚æŸ±çŠ¶å›¾ã€é¥¼çŠ¶å›¾ã€æŠ˜çº¿å›¾ç­‰ã€‚å¸Œæœ›èƒ½å¼€å‘å‡ºä¸€å¥—çµæ´»çš„å›¾è¡¨åº“ï¼Œè€Œä¸”å¯ä»¥æ‰©å±•ï¼Œä»¥ä¾¿ä¹‹ååŠ å…¥ä¸€äº›æ–°ç±»å‹çš„å›¾è¡¨

åˆå§‹åŒ–æ–¹æ¡ˆï¼š

```java
class Chart {
    private String type; //å›¾è¡¨ç±»å‹

    public Chart(Object[][] data, String type) {
        this.type = type;
        if (type.equalsIgnoreCase("histogram")) {
            //åˆå§‹åŒ–æŸ±çŠ¶å›¾
        }
        else if (type.equalsIgnoreCase("pie")) {
            //åˆå§‹åŒ–é¥¼çŠ¶å›¾
        }
        else if (type.equalsIgnoreCase("line")) {
            //åˆå§‹åŒ–æŠ˜çº¿å›¾
        }
    }

    public void display() {
        if (this.type.equalsIgnoreCase("histogram")) {
            //æ˜¾ç¤ºæŸ±çŠ¶å›¾
        }
        else if (this.type.equalsIgnoreCase("pie")) {
            //æ˜¾ç¤ºé¥¼çŠ¶å›¾
        }
        else if (this.type.equalsIgnoreCase("line")) {
            //æ˜¾ç¤ºæŠ˜çº¿å›¾
        }    
    }
}
```

è¿™ä¸ªæ–¹æ¡ˆç¼ºç‚¹æœ‰å¾ˆå¤š

1. Chartç±»çš„èŒè´£è¿‡é‡ï¼Œå®ƒä¸ä»…è¦åˆå§‹åŒ–ï¼Œè¿˜è¦å±•ç¤ºå›¾è¡¨ï¼Œè¿™è¿æ³•äº†**å•ä¸€èŒè´£åŸåˆ™**ï¼Œä¸åˆ©äºç±»çš„é‡ç”¨å’Œç»´æŠ¤

2. å½“æ–°æ·»åŠ ä¸€ä¸ªå›¾è¡¨æ—¶ï¼Œå¿…é¡»å¾—ä¿®æ”¹Chartç±»çš„æºä»£ç ï¼Œè¿åäº†**å¼€é—­åŸåˆ™**

3. å®¢æˆ·ç«¯åªèƒ½é€šè¿‡newæ¥ç›´æ¥åˆ›å»ºChartå¯¹è±¡ï¼ŒChartç±»äºå®¢æˆ·ç«¯ç±»**è€¦åˆåº¦é«˜ï¼Œå¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨æ— æ³•åˆ†ç¦»**

å¦‚æœç”¨ç®€å•å·¥å‚æ¨¡å¼ï¼Œé‚£å°±å¯ä»¥è§£å†³è¿™ä¸€é—®é¢˜ã€‚

ç®€å•å·¥å‚æ¨¡å¼çš„æ ¸å¿ƒæ˜¯å·¥å‚ç±»ï¼Œåœ¨æ²¡æœ‰å·¥å‚ç±»ä¹‹å‰ï¼Œå®¢æˆ·ç«¯ä¸€èˆ¬ä¼šä½¿ç”¨newå…³é”®å­—æ¥ç›´æ¥åˆ›å»ºå›¾è¡¨å¯¹è±¡ï¼Œè€Œåœ¨å¼•å…¥å·¥å‚ç±»ä¹‹åï¼Œå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥é€šè¿‡å·¥å‚ç±»æ¥åˆ›å»ºå¯¹è±¡ã€‚å·¥å‚ç±»æä¾›äº†ä¸€ä¸ªé™æ€æ–¹æ³•ä¾›å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œæ ¹æ®æ‰€ä¼ å…¥çš„å‚æ•°ä¸åŒå¯ä»¥åˆ›å»ºä¸åŒçš„å›¾è¡¨å¯¹è±¡ã€‚

è¿™é‡Œæˆ‘ä»¬å…ˆå†™ä¸€ä¸ªChartæ¥å£å°†å›¾è¡¨æŠ½è±¡

```java
interface Chart{
    public void display();
}
//æŸ±çŠ¶å›¾
class HistogramChart implements Chart{
    //å®ç°display
}
class PieChart implements Chart{
    //å®ç°display
}
class LineChart implements Chart{
    //å®ç°display
}

//åˆ›å»ºå·¥å‚ç±»
class ChartFactory{
    //é™æ€æ–¹æ³•
    public static Chart getChart(String type){
        Chart chart = null;
        if (type.equalsIgnoreCase("histogram")){
            chart = new HistogramChart();
        } else if (type.equalsIgnoreCase("PieChart"){
            chart = new PieChart();
        } else if type.equalsIgnoreCase("LineChart"){
            chart = new LineChart();
        }
        return chart;
    }
}
```

è¿™æ ·åœ¨å®¢æˆ·ç«¯è¦è·å–ä»£ç çš„æ—¶å€™å°±å¯ä»¥ä¸ç”¨newäº†ï¼Œè€¦åˆåº¦å°±é™ä½äº†

```java
class Main{
    public static void main(String []args){
         Chart chart = ChartFactory.getChart("histogram");   
         chart.display();    
    }
}
```

*ç”¨xmlæ–‡ä»¶ï¼Œå¯ä»¥å®ç°ChartFactory.getChart("config.xml"),å¦‚æœéœ€è¦æ›´æ¢å›¾è¡¨ï¼Œç”šè‡³å®¢æˆ·ç«¯ä»£ç éƒ½ä¸éœ€è¦æ”¹ï¼Œç¬¦åˆ"å¼€é—­åŸåˆ™"

æ€»ç»“ï¼š

> ç®€å•å·¥å‚æ¨¡å¼æä¾›äº†ä¸“é—¨çš„å·¥å‚ç±»ç”¨äºåˆ›å»ºå¯¹è±¡ï¼Œå°†å¯¹è±¡çš„åˆ›å»ºä¸ä½¿ç”¨åˆ†ç¦»å¼€ã€‚
> 
> ä¸»è¦ä¼˜ç‚¹ï¼š
> 
> 1. å®¢æˆ·ç«¯å¯ä»¥å…é™¤ç›´æ¥åˆ›å»ºäº§å“å¯¹è±¡çš„èŒè´£ï¼Œè€Œä»…ä»…â€œæ¶ˆè´¹â€äº§å“ï¼Œç®€å•å·¥å‚æ¨¡å¼å®ç°äº†å¯¹è±¡åˆ›å»ºå’Œä½¿ç”¨çš„åˆ†ç¦»
> 
> 2. å¼•å…¥é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä¸ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç çš„æƒ…å†µä¸‹æ›´æ¢æˆ–å¢åŠ æ–°çš„äº§å“ç±»ã€‚
> 
> ç¼ºç‚¹ï¼š
> 
> 1. å·¥å‚ç±»çš„èŒè´£è¿‡é‡ï¼Œä¸€æ—¦åœæ­¢å·¥ä½œï¼Œæ•´ä¸ªç³»ç»Ÿæ”¶åˆ°å½±å“
> 
> 2. ç³»ç»Ÿæ‰©å±•å›°éš¾ï¼Œä¸€æ—¦æ·»åŠ æ–°çš„äº§å“ç±»ï¼Œé‚£å·¥å‚çš„é€»è¾‘å°±å¾—å†æ¬¡ä¿®æ”¹
> 
> 3. ç®€å•å·¥å‚æ¨¡å¼ç”±äºä½¿ç”¨äº†é™æ€å·¥å‚æ–¹æ³•ï¼Œé€ æˆå·¥å‚è§’è‰²æ— æ³•å½¢æˆåŸºäºç»§æ‰¿çš„ç­‰çº§ç»“æ„ã€‚

# å·¥å‚æ–¹æ³•æ¨¡å¼

å·¥å‚æ–¹æ³•æ¨¡å¼æ˜¯ç®€å•å·¥å‚æ¨¡å¼çš„å¤§å“¥ã€‚å…ˆæ¥è¯´è¯´ç®€å•å·¥å‚æ¨¡å¼çš„ç¼ºç‚¹ï¼Œå®ƒå°†æ‰€æœ‰äº§å“åˆ›å»ºçš„èŒè´£éƒ½é›†ä¸­åœ¨äº†Factoryä¸­ï¼Œå¯¼è‡´å„ç§äº§å“ç±»ä¸è¿™ä¸ªFactoryç´§å¯†è€¦åˆã€‚è€Œä¸”å¦‚æœè¦å¢åŠ æ–°çš„äº§å“ï¼Œé‚£ä¹ˆå¿…é¡»å¾—æ”¹åŠ¨Factoryä¸­çš„æºä»£ç ï¼Œè€Œä¸”å¤§é‡çš„if-elseå½±å“ç³»ç»Ÿçš„æ•ˆç‡ã€‚

å·¥å‚æ–¹æ³•æ¨¡å¼å°±èƒ½å¾ˆå¥½çš„è§£å†³è¿™ä¹Ÿé—®é¢˜ï¼Œåœ¨å·¥å‚æ–¹æ³•æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬**ä¸å†æä¾›ä¸€ä¸ªç»Ÿä¸€çš„å·¥å‚ç±»æ¥åˆ›å»ºæ‰€æœ‰çš„äº§å“å¯¹è±¡ï¼Œè€Œæ˜¯é’ˆå¯¹ä¸åŒçš„äº§å“æä¾›ä¸åŒçš„å·¥å‚ï¼Œç³»ç»Ÿæä¾›ä¸€ä¸ªä¸äº§å“ç­‰çº§ç»“æ„å¯¹åº”çš„å·¥å‚ç­‰çº§ç»“æ„**

å®šä¹‰ï¼š**å·¥å‚æ–¹æ³•æ¨¡å¼(Factory Method Pattern)ï¼šå®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå°†å“ªä¸€ä¸ªç±»å®ä¾‹åŒ–ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼è®©ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼åˆç®€ç§°ä¸ºå·¥å‚æ¨¡å¼(Factory Pattern)ï¼Œåˆå¯ç§°ä½œè™šæ‹Ÿæ„é€ å™¨æ¨¡å¼(Virtual Constructor Pattern)æˆ–å¤šæ€å·¥å‚æ¨¡å¼(Polymorphic Factory Pattern)ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§ç±»åˆ›å»ºå‹æ¨¡å¼ã€‚**

æ¡ˆä¾‹ï¼šå½“ä½ è´­ä¹°ç”µè„‘æ—¶ï¼Œéœ€è¦é€‰æ‹©ä¸åŒå“ç‰Œå’Œå‹å·çš„è®¡ç®—æœºã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼å¯ä»¥å¾ˆå¥½åœ°åº”ç”¨ã€‚

```java
//å®šä¹‰ä¸€ä¸ªæŠ½è±¡çš„ç”µè„‘ç±»ï¼ŒåŒ…å«æŠ½è±¡æ–¹æ³•computeè®¡ç®—
public abstract class computer{
    public abstract void compute();
}


//å®šä¹‰å…·ä½“çš„äº§å“ç±»ç»§æ‰¿Computer
public class LenovoComputer extends Computer {
    @Override
    public void compute() {
        System.out.println("ä½¿ç”¨è”æƒ³ç”µè„‘è¿›è¡Œè®¡ç®—");
    }
}

public class DellComputer extends Computer {
    @Override
    public void compute() {
        System.out.println("ä½¿ç”¨æˆ´å°”ç”µè„‘è¿›è¡Œè®¡ç®—");
    }
}


//å®šä¹‰ä¸€ä¸ªæŠ½è±¡çš„ç”µè„‘å·¥å‚ï¼Œå¹¶åŒ…å«ä¸€ä¸ªæŠ½è±¡çš„å·¥å‚æ–¹æ³•createComputer()\
public abstract class ComputerFactory {
    public abstract Computer createComputer();
}


//ç»§ç»­åˆ›å»ºç”µè„‘çš„å·¥å‚LenovoFactoryå’ŒDellFactory,å®ƒä»¬éƒ½æ˜¯ComputerFactoryå­ç±»
public class LenovoFactory extends ComputerFactory {
    @Override
    public Computer createComputer() {
        return new LenovoComputer();
    }
}
public class DellFactory extends ComputerFactory {
    @Override
    public Computer createComputer() {
        return new DellComputer();
    }
}


//å®¢æˆ·ç«¯æµ‹è¯•
public class Client {
    public static void main(String[] args) {
        // åˆ›å»ºè”æƒ³ç”µè„‘
        ComputerFactory lenovoFactory = new LenovoFactory();
        Computer lenovoComputer = lenovoFactory.createComputer();
        lenovoComputer.compute(); // è¾“å‡ºï¼šä½¿ç”¨è”æƒ³ç”µè„‘è¿›è¡Œè®¡ç®—

        // åˆ›å»ºæˆ´å°”ç”µè„‘
        ComputerFactory dellFactory = new DellFactory();
        Computer dellComputer = dellFactory.createComputer();
        dellComputer.compute(); // è¾“å‡ºï¼šä½¿ç”¨æˆ´å°”ç”µè„‘è¿›è¡Œè®¡ç®—
    }
}
```

å¯ä»¥å“åˆ°ï¼Œç®€å•å·¥å‚æ¨¡å¼åªæ˜¯å¯¹äº§å“è¿›è¡ŒæŠ½è±¡å±‚ç¼–ç¨‹ï¼Œè€Œå·¥å‚æ–¹æ³•æ¨¡å¼è¿˜å¯¹å·¥å‚è¿›è¡ŒæŠ½è±¡å±‚ç¼–ç¨‹ï¼Œé€šè¿‡å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…·ä½“çš„å·¥å‚ç±»æ¥åˆ›å»ºä¸åŒå“ç‰Œçš„ç”µè„‘å¯¹è±¡ï¼Œè€Œä¸éœ€è¦ç›´æ¥å®ä¾‹åŒ–å…·ä½“çš„äº§å“ç±»ã€‚è¿™æ ·ä½¿å¾—å®¢æˆ·ç«¯ä»£ç ä¸å…·ä½“äº§å“ç±»è§£è€¦ï¼Œä¹Ÿæ–¹ä¾¿äº†åç»­çš„æ‰©å±•å’Œç»´æŠ¤ã€‚

ä¼˜ç‚¹ï¼š

> 1. å·¥å‚æ–¹æ³•ç”¨æ¥åˆ›å»ºå®¢æˆ·æ‰€éœ€çš„äº§å“ï¼Œéšè—äº†å…·ä½“äº§å“ç±»çš„å®ä¾‹åŒ–ç»†èŠ‚ã€‚
> 
> 2. å·¥å‚è§’è‰²å’Œäº§å“è§’è‰²ä¹‹é—´é€šè¿‡å¤šæ€æ€§è®¾è®¡å®ç°è§£è€¦ã€‚
> 
> 3. æ·»åŠ æ–°äº§å“æ—¶ï¼Œæ— éœ€ä¿®æ”¹æŠ½è±¡å·¥å‚å’ŒæŠ½è±¡äº§å“æ¥å£ï¼Œåªéœ€æ·»åŠ å…·ä½“å·¥å‚å’Œå…·ä½“äº§å“

ç¼ºç‚¹ï¼š

> 1. æ·»åŠ æ–°äº§å“æ—¶ï¼Œè¿˜è¦æä¾›ä¸ä¹‹å¯¹åº”çš„å·¥å‚ç±»ï¼Œç³»ç»Ÿä¸­ç±»çš„ä¸ªæ•°å°†ä¼šæˆå¯¹å¢åŠ 
> 
> 2. ç”±äºè€ƒè™‘åˆ°ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ï¼Œéœ€è¦å¼•å…¥æŠ½è±¡å±‚ï¼Œåœ¨å®¢æˆ·ç«¯ä»£ç ä¸­å‡ä½¿ç”¨æŠ½è±¡å±‚è¿›è¡Œå®šä¹‰ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦ï¼Œä¸”åœ¨å®ç°æ—¶å¯èƒ½éœ€è¦ç”¨åˆ°DOMã€åå°„ç­‰æŠ€æœ¯ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„å®ç°éš¾åº¦

# æŠ½è±¡å·¥å‚æ¨¡å¼

å·¥å‚æ–¹æ³•æ¨¡å¼è§£å†³äº†ç®€å•å·¥å‚æ¨¡å¼çš„å·¥ç¨‹ç±»çš„èŒè´£å¤ªé‡ï¼Œä¸äº§å“è€¦åˆç­‰é—®é¢˜ï¼Œä½†æ˜¯ä¸€ä¸ªå·¥å‚åªä¼šç”Ÿæˆå‡ºä¸€ç§äº§å“ï¼Œå½“äº§å“è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œå·¥å‚ç±»ä¹Ÿä¼šå˜å¾—è¶Šæ¥è¶Šåºæ‚ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘å°†ä¸€äº›ç›¸å…³çš„äº§å“ç»„æˆä¸€"äº§å“æ—",è¿™å°±æ˜¯æŠ½è±¡å·¥å‚æ¨¡å¼çš„åŸºæœ¬æ€æƒ³ã€‘

```java
/*å‡è®¾æˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªæ¸¸æˆï¼Œè¿™ä¸ªæ¸¸æˆåŒ…å«ä¸åŒç±»å‹çš„è§’è‰²å’Œè£…å¤‡ã€‚
æˆ‘ä»¬çŸ¥é“ï¼Œæ¯ä¸ªè§’è‰²éƒ½éœ€è¦ç©¿æˆ´ä¸åŒç±»å‹çš„è£…å¤‡ï¼Œä¾‹å¦‚æ³•å¸ˆéœ€è¦ç©¿æˆ´é­”æ³•å¸ˆæœè£…å’Œæ³•æ–ï¼Œæˆ˜å£«éœ€è¦ç©¿æˆ´ç›”ç”²å’Œæ­¦å™¨ç­‰ç­‰ã€‚
ä½†æ˜¯æ¯ä¸ªè§’è‰²çš„è£…å¤‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤å®ƒä»¬éœ€è¦è¢«æŒ‡å®šä¸ºä¸€ç»„äº§å“æ—*/
interface CharacterFactory {
    public Cloth createClothing();
    public Weapon createWeapon();
}

class MageFactory implements CharacterFactory {
    @Override
    public Cloth createClothing() {
        return new Cloth1();
    }
    @Override
    public Weapon createWeapon() {
        return new Weapon1();
    }
}
class WarriorFactory implements CharacterFactory {
    @Override
    public Cloth createClothing() {
        return new Cloth2();
    }
    @Override
    public Weapon createWeapon() {
        return new Weapon2();
    }
}
interface Cloth{
    public void display();
}
class Cloth1 implements Cloth{
    @Override
    public void display() {
        System.out.println("å±•ç¤ºæ³•å¸ˆCloth");
    }
}
class Cloth2 implements Cloth {
    @Override
    public void display() {
        System.out.println("å±•ç¤ºæ³•å¸ˆCloth");
    }
}
interface Weapon{
    public void display();
}
class Weapon1 implements Weapon{
    @Override
    public void display() {
        System.out.println("å±•ç¤ºæ³•å¸ˆWeapon");
    }
}
class Weapon2 implements Weapon {
    @Override
    public void display() {
        System.out.println("å±•ç¤ºæˆ˜å£«Weapon");
    }
}
public class Main {
    public static void main(String[] args) {
        CharacterFactory m_characterFactory = new MageFactory();
        Cloth m_cl = m_characterFactory.createClothing();
        Weapon m_wea = m_characterFactory.createWeapon();
        m_cl.display();
        m_wea.display();

        CharacterFactory w_characterFactory = new WarriorFactory();
        Cloth w_cl = w_characterFactory.createClothing();
        Weapon w_wea = w_characterFactory.createWeapon();
        w_cl.display();
        w_wea.display();
    }
}
```

ä¸éš¾çœ‹å‡ºï¼Œå¦‚æœä½¿ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼æ¥æ„å»ºè¿™ä¸ªç±»çš„è¯ï¼Œä¼šå‘ç°æ³•å¸ˆçš„Clothã€Weaponï¼Œæˆ˜å£«çš„Clothã€Weaponè¿™äº›ç±»ã€‚å¾—ä¸ºå®ƒä»¬å»ºé€ ä¸¤ä¸ªæŠ½è±¡å·¥å‚abstractClothã€abstractWeaponï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¸Šï¼Œåˆå¾—æ´¾ç”Ÿå‡ºå…·ä½“çš„æˆ˜å£«Clothå·¥å‚ã€æˆ˜å£«Weaponå·¥å‚ï¼Œæ³•å¸ˆClothå·¥å‚ã€æ³•å¸ˆWeaponå·¥å‚ï¼Œå®åœ¨æ˜¯å¤ªç¹æ‚äº†ã€‚è€Œåœ¨æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œå°†Clothå’ŒWeaponçœ‹æˆä¸€æ•´ä¸ªï¼Œç„¶åå†åˆ›å»ºå·¥å‚çš„æ—¶å€™å°±å°†å®ƒä»¬åˆ›å»ºï¼Œå½“ç„¶éƒ½æ˜¯é’ˆå¯¹æŠ½è±¡å±‚ç¼–ç¨‹ã€‚

è¿™ä¸ªæ¨¡å¼æˆ‘ç†è§£äº†å¥½ä¹…ï¼Œæ¥åšä¸€é“ç»ƒä¹ é¢˜ï¼š

å‡è®¾ä½ æ­£åœ¨è®¾è®¡ä¸€ä¸ªæ¸¸æˆï¼Œè¯¥æ¸¸æˆæœ‰å¤šä¸ªç§æ—çš„è§’è‰²ï¼ŒåŒ…æ‹¬äººç±»ï¼ˆHumanï¼‰ã€ç²¾çµï¼ˆElfï¼‰å’Œå…½äººï¼ˆOrcï¼‰ã€‚æ¯ä¸ªç§æ—éƒ½æœ‰è‡ªå·±çš„æ­¦å™¨ï¼ˆWeaponï¼‰å’Œè£…å¤‡ï¼ˆArmorï¼‰ï¼Œä¾‹å¦‚äººç±»ä½¿ç”¨å‰‘å’Œç›¾ç‰Œï¼Œç²¾çµä½¿ç”¨é­”æ³•æ£’å’Œè½»ç›”ç”²ï¼Œå…½äººä½¿ç”¨å·¨æ–§å’Œé‡ç”²ã€‚ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼è®¾è®¡ä¸€ä¸ªç±»ç»“æ„æ¥åˆ›å»ºä¸åŒç§æ—çš„è§’è‰²å’Œå…¶å¯¹åº”çš„æ­¦å™¨å’Œè£…å¤‡ã€‚åˆ©ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼æ„é€ è¿™ä¸ªç±»ã€‚

```java
//ç§æ—å·¥å‚
interface zhongzufactory {
    public zhongzu create();
}


//ç§æ—çˆ¶ç±»
interface zhongzu {
    public Weapon createWeapon();
    public Armor createArmor();
}

//äººç±»å·¥å‚
class HumanFactory implements zhongzufactory {
    @Override
    public zhongzu create() {
        return new Human();
    }
}
//æ³•å¸ˆå·¥å‚
class ElfFactory implements zhongzufactory {

    @Override
    public zhongzu create() {
        return new Elf();
    }
}

//å…½äººå·¥å‚
class  OrcFactory implements  zhongzufactory{

    @Override
    public zhongzu create() {
        return new Orc();
    }
}

//äºº -> å®ç°ç§æ—æ¥å£
class  Human implements zhongzu {
    @Override
    public Weapon createWeapon() {
        return new jian();
    }
    @Override
    public Armor createArmor() {
        return new dun();
    }
}

//æ³•å¸ˆ -> å®ç°ç§æ—æ¥å£
class Elf implements zhongzu {
    @Override
    public Weapon createWeapon() {
        return new mofaban();
    }
    @Override
    public Armor createArmor() {
        return new qingkuijia();
    }
}

//å…½äºº -> å®ç°ç§æ—æ¥å£
class Orc implements  zhongzu{
    @Override
    public Weapon createWeapon() {
        return new jufu() ;
    }
    @Override
    public Armor createArmor() {
        return new zhongjia();
    }
}


//æ­¦å™¨æ¥å£
interface Weapon {
    public void display();
}

//è£…å¤‡æ¥å£
interface Armor {
    public void display();
}

//å‰‘
class jian implements Weapon {
    @Override
    public void display() {
        System.out.println("äººå±•ç¤ºğŸ—¡");
    }
}
//ç›¾
class dun implements Armor {
    @Override
    public void display() {
        System.out.println("äººå±•ç¤ºç›¾");
    }
}
//é­”æ³•æ£’
class mofaban implements Weapon {
    @Override
    public void display() {
        System.out.println("æ³•å¸ˆå±•ç¤ºé­”æ³•æ£’");
    }
}
//è½»ç›”ç”²
class  qingkuijia implements Armor {
    @Override
    public void display() {
        System.out.println("æ³•å¸ˆå±•ç¤ºè½»ç›”ç”²");
    }
}
//å·¨æ–§
class jufu implements Weapon {
    @Override
    public void display() {
        System.out.println("å…½äººå±•ç¤ºå·¨æ–§");
    }
}
//é‡ç”²
class zhongjia implements Armor {

    @Override
    public void display() {
        System.out.println("å…½äººå±•ç¤ºé‡ç”²");
    }
}
```

å®¢æˆ·ç«¯

```java
public class Main {
    public static void main(String[] args) {
        //æŠ½è±¡å±‚ç¼–ç¨‹
        zhongzufactory humanfactory = new HumanFactory();
        zhongzu human = (Human) humanfactory.create();
        Weapon huamn_weapon = human.createWeapon();
        huamn_weapon.display();
        Armor huamn_armor = human.createArmor();
        huamn_armor.display();

        zhongzufactory Elffactory = new ElfFactory();
        zhongzu Elf = Elffactory.create();
        Armor ELf_armor = Elf.createArmor();
        ELf_armor.display();
        Weapon Elf_weapon = Elf.createWeapon();
        Elf_weapon.display();

        zhongzufactory Orcfactory = new OrcFactory();
        zhongzu Orc =  Orcfactory.create();
        Armor Orc_armor = Orc.createArmor();
        Orc_armor.display();
        Weapon Orc_weapon = Orc.createWeapon();
        Orc_weapon.display();
    }
}
```

è¾“å‡ºç»“æœ

    äººå±•ç¤ºğŸ—¡
    äººå±•ç¤ºç›¾
    æ³•å¸ˆå±•ç¤ºè½»ç›”ç”²
    æ³•å¸ˆå±•ç¤ºé­”æ³•æ£’
    å…½äººå±•ç¤ºé‡ç”²
    å…½äººå±•ç¤ºå·¨æ–§

å¦‚æœä½ å†™å®Œä¹‹åï¼Œåˆæœ‰è¦æ±‚å¾—ä¸ºç§æ—å†å¢åŠ ä¸€ä¸ªå±æ€§â€”â€”â€”â€”é‡‘é’±ï¼Œæ¯ä¸ªç§æ—çš„åˆå§‹é‡‘é’±ä¸åŒã€‚

é‚£æ­¤æ—¶å°±ä¸éœ€è¦å†ä¿®æ”¹äº†æºä»£ç äº†ï¼Œåªéœ€è¦åœ¨zhongzuæ¥å£é‡Œå¢åŠ ä¸€ä¸ªåˆå§‹åŒ–é‡‘é’±çš„æ–¹æ³•å°±å¯ä»¥äº†ï¼Œç„¶åå†™ä¸€ä¸ªMoneyæ¥å£ï¼Œå†ä½¿å„ä¸ªç§æ—çš„moenyå®ç°æ¥å£ã€‚

æ€»ç»“ï¼šæŠ½è±¡å·¥å‚æ¨¡å¼æ˜¯å·¥å‚æ–¹æ³•æ¨¡å¼çš„è¿›ä¸€æ­¥å»¶ä¼¸ï¼Œç”±äºå®ƒæä¾›äº†åŠŸèƒ½æ›´ä¸ºå¼ºå¤§çš„å·¥å‚ç±»å¹¶ä¸”å…·å¤‡è¾ƒå¥½çš„å¯æ‰©å±•æ€§ï¼Œåœ¨è½¯ä»¶å¼€å‘ä¸­å¾—ä»¥å¹¿æ³›åº”ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¸»è¦ä¼˜ç‚¹åŒ…æ‹¬**éš”ç¦»äº†å…·ä½“ç±»çš„ç”Ÿæˆã€èƒ½å¤Ÿä¿è¯å®¢æˆ·ç«¯åªä½¿ç”¨åŒä¸€äº§å“æ—ä¸­çš„å¯¹è±¡ã€å¢åŠ æ–°çš„äº§å“æ—æ–¹ä¾¿ç­‰ã€‚åœ¨è®¾è®¡ä¸Šç¬¦åˆå¼€é—­åŸåˆ™ï¼Œèƒ½å¤Ÿæé«˜ç³»ç»Ÿçš„çµæ´»æ€§ã€å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§**ã€‚ä½†æ˜¯å®ƒä¹Ÿå­˜åœ¨ç¼ºç‚¹ï¼Œä¸»è¦æ˜¯**å¢åŠ æ–°çš„äº§å“ç­‰çº§ç»“æ„æ—¶ï¼Œéœ€è¦å¯¹åŸæœ‰ç³»ç»Ÿè¿›è¡Œè¾ƒå¤§çš„ä¿®æ”¹ï¼Œç”šè‡³éœ€è¦ä¿®æ”¹æŠ½è±¡å±‚ä»£ç ï¼Œè¿èƒŒäº†å¼€é—­åŸåˆ™**

# å•ä¾‹æ¨¡å¼

å…ˆæ¥çœ‹çœ‹å•ä¾‹æ¨¡å¼çš„åŠ¨æœºï¼Œåœ¨æœ‰äº›æ—¶å€™ï¼Œæœ‰äº›ç±»åªèƒ½è¢«åˆ›å»ºä¸€æ¬¡æ‰æ˜¯æœ‰æ•ˆçš„ï¼Œåˆ›å»ºçš„å¤šäº†ä¸ä»…æµªè´¹èµ„æºè¿˜ä¼šå¯¼è‡´ä¸€äº›ç³»ç»Ÿå†²çªã€‚GUIåº”ç”¨ç¨‹åºä¸­çš„çª—å£ç®¡ç†å™¨ï¼Œç†Ÿæ‚‰å§ï¼Œå°±æ˜¯å¹³æ—¶æˆ‘ä»¬åœ¨ç”µè„‘ä¸­æ‰“å¼€çš„å„ä¸ªçª—å£ï¼Œå°±æ˜¯é è¿™ä¸ªæ¥ç®¡ç†çš„ï¼Œå®ƒæœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ã€‚è¿˜æœ‰ä»»åŠ¡ç®¡ç†å™¨ï¼Œä¼šå‘ç°æˆ‘ä»¬æœ€å¤šåªèƒ½æ‰“å¼€ä¸€ä¸ªä»»åŠ¡ç®¡ç†å™¨ï¼Œï¼ˆå¤§ä½¬ç§æ”¹å†…æ ¸ä¸ç®—ï¼‰ã€‚è¿™äº›éƒ½æ˜¯å•ä¾‹æ¨¡å¼çš„æ¡ˆä¾‹ã€‚

ä¸€ä¸ªç®€å•çš„ä»»åŠ¡ç®¡ç†å™¨çš„å®ç°

```java
class TaskManager
{
     private static TaskManager tm = null;
     private TaskManager() {â€¦â€¦} //åˆå§‹åŒ–çª—å£
     public void  displayProcesses() {â€¦â€¦} //æ˜¾ç¤ºè¿›ç¨‹
     public void  displayServices() {â€¦â€¦} //æ˜¾ç¤ºæœåŠ¡
     public static TaskManager getInstance()
     {
        if (tm == null)
        {
            tm = new TaskManager();
        }
        return tm;
    }
}
```

æ„é€ æ–¹æ³•è¢«`private`ä¿®é¥°äº†ï¼Œå†…éƒ¨æä¾›äº†è¿™ä¸ªç±»çš„å®ä¾‹è€Œä¸”å¦‚æœå·²ç»å­˜åœ¨å®ä¾‹å°±ç›´æ¥è¿”å›ï¼Œä»è€Œç¡®ä¿å¯¹è±¡çš„å”¯ä¸€æ€§

ä½†æ˜¯ä»¥ä¸Šä»£ç ä¹Ÿä¼šå‡ºç°é—®é¢˜ï¼šåˆ›å»ºå¯¹è±¡ä¸æ˜¯ä¸€ç¬é—´çš„äº‹ï¼Œå¦‚æœåˆšåˆšå¥½å¡åœ¨è¿™ä¸ªè¿˜æ²¡åˆ›å»ºå‡ºæ—¶é—´çš„ç‚¹åˆè°ƒç”¨äº†ä¸€æ¬¡getInstanceæ–¹æ³•ï¼Œé‚£ä¹ˆæ­¤æ—¶ä¼šè¿›å…¥æ¡ä»¶è¯­å¥ä¸­ï¼Œæœ€ç»ˆä¼šå¤šåˆ›å»ºå‡ºå¯¹è±¡ï¼Œè¿èƒŒäº†å•ä¾‹æ¨¡å¼çš„åˆè¡·ã€‚æœ‰è‡³å°‘ä¸¤ç§å¯ä»¥è§£å†³è¿™ç§æƒ…å†µçš„æ–¹æ³•

1. é¥¿æ±‰å¼å•ä¾‹ç±»

```java
class TaskManager
{
     private static final TaskManager tm = new TaskManager();
     private TaskManager() {â€¦â€¦} //åˆå§‹åŒ–çª—å£
     public void  displayProcesses() {â€¦â€¦} //æ˜¾ç¤ºè¿›ç¨‹
     public void  displayServices() {â€¦â€¦} //æ˜¾ç¤ºæœåŠ¡
     public static TaskManager getInstance()
     {
        return tm;
    }
}
```

 åœ¨åŠ è½½ç±»çš„æ—¶å€™å°±å·²ç»åˆ›å»ºäº†è¿™ä¸ªå¯¹è±¡ï¼Œä¹‹åä¹Ÿä¸€ç›´è¿”å›çš„æ˜¯å®ƒã€‚é¥¿æ±‰å¼å¥½å†™ï¼Œå¥½ç†è§£ã€‚ä½†è¿™ç§æ–¹å¼ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œä¸ç®¡æˆ‘æœ‰æ²¡æœ‰ç”¨åˆ°å®ƒï¼Œæˆ‘éƒ½å¾—å…ˆåˆ›å»ºè¿™ä¸ªå¯¹è±¡ï¼Œé€ æˆèµ„æºæµªè´¹ã€‚

2. æ‡’æ±‰å¼å•ä¾‹ç±»

é‚£è‡ªç„¶æ˜¯åŠ é”äº†ï¼ŒåŠ ä¸ªé”ï¼Œé˜²æ­¢åé¢çš„è¿›æ¥ï¼Œå¤„ç†å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®çš„é—®é¢˜

```java
class TaskManager
{
     private static  TaskManager tm = null;
     private TaskManager() {â€¦â€¦} //åˆå§‹åŒ–çª—å£
     public void  displayProcesses() {â€¦â€¦} //æ˜¾ç¤ºè¿›ç¨‹
     public void  displayServices() {â€¦â€¦} //æ˜¾ç¤ºæœåŠ¡
     synchronized public static TaskManager getInstance()
     {
        if(tm == null){
            tm = new TaskManager();
        }
        return tm;
     }
}
```

è¿™æ ·æ•ˆç‡ä¸å¤Ÿé«˜ï¼Œå› ä¸ºæ¯æ¬¡éƒ½å¾—å¯¹è¿™ä¸ªæ–¹æ³•çº¿ç¨‹é”å®šåè¿˜è¦åˆ¤æ–­ï¼Œåªéœ€è¦åœ¨é‡Œé¢åˆ›å»ºå®ä¾‹çš„æ—¶å€™é”å®šå°±å¯ä»¥äº†

```java
class TaskManager
{
     private static  TaskManager tm = null;
     private TaskManager() {â€¦â€¦} //åˆå§‹åŒ–çª—å£
     public void  displayProcesses() {â€¦â€¦} //æ˜¾ç¤ºè¿›ç¨‹
     public void  displayServices() {â€¦â€¦} //æ˜¾ç¤ºæœåŠ¡
     public static TaskManager getInstance()
     {
        if(tm == null){
            synchronized(TaskManager.class) {
                tm = new TaskManager();
            }
            tm = new TaskManager();
        }
        return tm;
     }
}
```

ä½†è¿™æ ·åˆä¼šå‡ºç°å¼€å§‹çš„é—®é¢˜äº†â€”â€”â€”â€”ä¸¤ä¸ªè®¿é—®éƒ½è¿›å…¥äº†ifçš„æƒ…å†µã€‚å•ä¾‹å¯¹è±¡è¿˜æ˜¯ä¸å”¯ä¸€ï¼Œå› æ­¤å¾—åœ¨é”é‡Œé¢å†åˆ¤æ–­ä¸€æ¬¡æ˜¯å¦ä¸ºnullï¼Œå¦‚æœæ˜¯çš„è¯å†åˆ›å»ºã€‚è¿™æ ·åœ¨åˆšå¼€å§‹å°±è¿‡æ»¤æ‰å¾ˆå¤šä¸ä¸ºç©ºçš„æƒ…å†µï¼Œè€Œä¸”åˆä¸ç”¨çº¿ç¨‹é”å®šï¼Œå¤§å¤§æé«˜äº†æ•ˆç‡

```java
class TaskManager
{
     private volatile static  TaskManager tm = null;
     private TaskManager() {â€¦â€¦} //åˆå§‹åŒ–çª—å£
     public void  displayProcesses() {â€¦â€¦} //æ˜¾ç¤ºè¿›ç¨‹
     public void  displayServices() {â€¦â€¦} //æ˜¾ç¤ºæœåŠ¡
     public static TaskManager getInstance()
     {
        if(tm == null){
            synchronized(TaskManager.class) {
                if(tm == null) {
                    tm = new TaskManager();
                }
            }
            tm = new TaskManager();
        }
        return tm;
     }
}
```

è¿™ä¸­æ–¹å¼å«åš<span style="color:red;">åŒé‡æ£€æŸ¥é”å®š</span>,éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼å®ç°æ‡’æ±‰å¼å•ä¾‹ç±»ï¼Œéœ€è¦åœ¨é™æ€æˆå‘˜å˜é‡tmä¹‹å‰åŠ ä¸Š volatile å…³é”®å­—ï¼Œä»¥ä¾¿èƒ½å¤Ÿæ­£ç¡®å¤„ç†å¤šä¸ªçº¿ç¨‹

3. ä¸€ç§æ›´å¥½çš„å•ä¾‹ç±»å®ç°æ–¹å¼

é¥¿æ±‰å¼ä¸èƒ½å»¶è¿ŸåŠ è½½ï¼Œæ‡’æ±‰å¼å› ä¸ºçº¿ç¨‹çƒ¦çï¼Œæ€§èƒ½å½±å“ã€‚è€Œ<span style="color:red;">Initialization Demand Holder</span>æ˜¯ä¸€ç§ç”¨äºå®ç°<mark>å»¶è¿Ÿåˆå§‹åŒ–</mark>å’Œ<mark>çº¿ç¨‹å®‰å…¨</mark>çš„å•ä¾‹æ¨¡å¼ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡é™æ€å†…éƒ¨ç±»çš„åŠ è½½æ¥å®ç°å»¶è¿ŸåŠ è½½ã€‚

```java
class TaskManager
{

     private TaskManager() {â€¦â€¦} //åˆå§‹åŒ–çª—å£
     public void  displayProcesses() {â€¦â€¦} //æ˜¾ç¤ºè¿›ç¨‹
     public void  displayServices() {â€¦â€¦} //æ˜¾ç¤ºæœåŠ¡

     //å†…éƒ¨ç±»
     private static class Holder{
        private static final TaskManager tm = new TaskManager();
    }

     public static TaskManager getInstance()
     {
        return Holder.tm;
     }
}
```

æˆ‘åªèƒ½æƒŠå¹ç±³å¥‡å¦™å¦™å±‹å•Šï¼Œå¤ªä¼˜é›…äº†è¿™ç§æ–¹å¼ğŸ˜

å•ä¾‹æ¨¡å¼çš„ä¼˜ç‚¹ï¼š

1. æä¾›äº†å”¯ä¸€è®¿é—®çš„å®ä¾‹

2. èŠ‚çº¦ç³»ç»Ÿèµ„æº

3. å…è®¸å¯å˜æ•°ç›®çš„å®ä¾‹ï¼ŒåŸºäºå•ä¾‹æ‰©å±•æˆæŒ‡å®šåªèƒ½åˆ›å»ºä¸€å®šæ•°é‡çš„å®ä¾‹çš„å¯¹è±¡

å•ä¾‹æ¨¡å¼çš„ç¡®å®šï¼š

1. å•ä¾‹æ¨¡å¼æ²¡æœ‰æŠ½è±¡å±‚ï¼Œå•ä¾‹ç±»çš„æ‰©å±•å›°éš¾å¤§

2. èŒè´£è¿‡é‡ï¼Œè¿åäº†å•ä¸€èŒè´£åŸåˆ™

é€‚ç”¨çš„åœºæ™¯ï¼ˆæ‘˜è‡ªgptï¼‰

1. å¯¹è±¡éœ€è¦è¢«å…±äº«å’Œé¢‘ç¹è®¿é—®ï¼šåœ¨éœ€è¦é¢‘ç¹åˆ›å»ºå¯¹è±¡çš„åœºæ™¯ä¸‹ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼èƒ½å¤Ÿå‡å°‘ç³»ç»Ÿå¼€é”€ï¼Œæé«˜æ€§èƒ½ã€‚ä¾‹å¦‚çº¿ç¨‹æ± ã€ç¼“å­˜ç®¡ç†å™¨ç­‰ã€‚

2. æ§åˆ¶èµ„æºçš„ä½¿ç”¨ï¼šå•ä¾‹æ¨¡å¼å¯ä»¥é€šè¿‡æ§åˆ¶å¯¹è±¡æ•°é‡æ¥æ§åˆ¶ç³»ç»Ÿä¸­æŸä¸€ç±»èµ„æºçš„ä½¿ç”¨ï¼Œä¾‹å¦‚æ•°æ®åº“è¿æ¥æ± ç­‰ã€‚

3. éœ€è¦ä¿è¯å”¯ä¸€æ€§çš„åœºæ™¯ï¼šåœ¨æŸäº›åœºåˆä¸‹åªéœ€è¦ä¸€ä¸ªå®ä¾‹ï¼Œä¾‹å¦‚è®¡æ•°å™¨ã€è®¡æ—¶å™¨ã€é…ç½®æ–‡ä»¶ç®¡ç†å™¨ã€æ—¥å¿—è®°å½•å™¨ç­‰ã€‚

4. éœ€è¦åˆ›å»ºç›¸å¯¹è¾ƒå°‘çš„å¯¹è±¡ï¼šç”±äºå•ä¾‹æ¨¡å¼å¯ä»¥èŠ‚çº¦ç³»ç»Ÿå¼€é”€ï¼Œå› æ­¤åœ¨åˆ›å»ºç›¸å¯¹è¾ƒå°‘çš„å¯¹è±¡æ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚

æ€»è€Œè¨€ä¹‹ï¼Œå•ä¾‹æ¨¡å¼é€‚ç”¨äºéœ€è¦ä¿è¯å…¨å±€å”¯ä¸€æ€§ã€æ§åˆ¶å¹¶å‘è®¿é—®ã€èŠ‚çº¦ç³»ç»Ÿå¼€é”€å’Œæ§åˆ¶ç³»ç»ŸçŠ¶æ€çš„åœºæ™¯ã€‚å¦å¤–ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶å•ä¾‹æ¨¡å¼å…·æœ‰è®¸å¤šä¼˜ç‚¹ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œä¾‹å¦‚å¢åŠ ä»£ç å¤æ‚åº¦å’Œé™ä½å¯æµ‹è¯•æ€§ç­‰ï¼Œå› æ­¤åœ¨ä½¿ç”¨æ—¶éœ€è¦æ ¹æ®å®é™…æƒ…å†µåšå‡ºåˆ¤æ–­ã€‚





# é€‚é…å™¨æ¨¡å¼

å®šä¹‰ï¼šå°†ä¸€ä¸ªæ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œä½¿æ¥å£ä¸å…¼å®¹çš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œï¼Œå…¶åˆ«åä¸ºåŒ…è£…å™¨(Wrapper)ã€‚é€‚é…å™¨æ¨¡å¼æ—¢å¯ä»¥ä½œä¸ºç±»ç»“æ„å‹æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå¯¹è±¡ç»“æ„å‹æ¨¡å¼ã€‚é€‚é…å™¨å¯ä»¥ä½¿æ—§çš„æ¥å£å’Œæ–°å¾—æ¥å£å…¼å®¹å·¥ä½œï¼Œå¯ä»¥ä½¿ç”¨ä¸€ç§æ¥å£æ¥è°ƒç”¨å¦ä¸€ç§æ¥å£å¾—åŠŸèƒ½

eg:ç°æœ‰ä¸¤ä¸ªæ¥å£ï¼Œä¸€ä¸ªæ˜¯OldMusicPlayer,ä¸€ä¸ªæ˜¯NewMusicPlayerï¼Œç°åœ¨è¦ä½ ç”¨é€‚é…å™¨æ¨¡å¼å°†å®ƒä»¬ä¸¤ä¸ªèƒ½å…¼å®¹å·¥ä½œ

```java
interface OldMusicPlayer{
    public void oldplay(String file);
}
class OldMusicPlayerImpl implements  OldMusicPlayer{
    @Override
    public void oldplay(String file) {
        System.out.println("æ—§æ’­æ”¾mp3æ–‡ä»¶ "+file);
    }
}

interface NewMusicPlayer{
    public void newplay(String file);
}
class NewMusicPlayerImpl implements NewMusicPlayer {
    @Override
    public void newplay(String file) {
        System.out.println("æ–°æ’­æ”¾mp3æ–‡ä»¶ "+file);
    }
}
```

å†™å¥½æ—§çš„æ¥å£ï¼Œæ–°çš„æ¥å£ï¼Œå„è‡ªå†™å‡ºå…·ä½“ç±»,ä¸‹ä¸€æ­¥å°±æ˜¯å†™ä¸€ä¸ªé€‚é…å™¨ç±»å¹¶å®ç°æ–°çš„æ¥å£(è¿™æ ·æ—¢å¯ä»¥åˆ›å»ºæ–°çš„æ¥å£ä¹Ÿå¯ä»¥é€‚é…æ—§çš„æ¥å£)



```java
//åˆ›å»ºä¸€ä¸ªé€‚é…å™¨
class MusicPlayerAdapter implements NewMusicPlayer {
    private OldMusicPlayer oldMusicPlayer;
    public MusicPlayerAdapter(OldMusicPlayer oldMusicPlayer) {
        this.oldMusicPlayer = oldMusicPlayer;
    }
    @Override
    public void newplay(String file) {
        oldMusicPlayer.oldplay(file);
    }
}
```

æ³¨æ„åœ¨é€‚é…å™¨é‡Œçš„æ—§æ¥å£å¾—è®¾ä¸ºç§æœ‰ï¼Œåˆ©ç”¨æ„é€ æ–¹æ³•ï¼Œé‡å†™newplayæ–¹æ³•ï¼Œä»¥è¾¾åˆ°é€‚é…çš„ç›®çš„ã€‚

```java
public class Main {
    public static void main(String[] args) {
            //ç”¨æ—§æ’­æ”¾æ’­æ”¾
            OldMusicPlayer oldMusicPlayer = new OldMusicPlayerImpl();
            oldMusicPlayer.oldplay("111");
            //ç”¨é€‚é…å™¨æ’­æ”¾
            NewMusicPlayer newMusicPlayer = new NewMusicPlayerImpl();
            newMusicPlayer.newplay("222");

            //ç”¨é€‚é…å™¨æ’­æ”¾
            NewMusicPlayer new_music = new NewMusicPlayerImpl();//ç›´æ¥åˆ›å»ºæ–°æ’­æ”¾å™¨æ”¾
            OldMusicPlayer old_music  = new OldMusicPlayerImpl();
            NewMusicPlayer Adapter_music = new MusicPlayerAdapter(old_music);//ç”¨é€‚é…å™¨åˆ›å»ºæ—§æ’­æ”¾å™¨
            new_music.newplay("æ–°æ­Œ");
            old_music.oldplay("æ—§æ­Œ");
            Adapter_music.newplay("è¢«é€‚é…çš„æ­Œ");

    }
}
```

å†å¡«ä¸€ä¸ªæ–°çš„æ’­æ”¾å™¨ï¼Œä¹Ÿè¦å®ç°å…¼å®¹çš„è¯ï¼Œå°±å¾—å†å†™ä¸€ä¸ªAdapterç±»é€‚é…å‰é¢è¿™ä¸ªAdapterï¼Œå¥½æ‰©å±•ï¼Œä½†å¥½éº»çƒ¦



å¯ä»¥è¿™æ ·å†™ï¼Œå’Œæœ¬æ ‡é¢˜æ— å…³ï¼Œå­˜ç²¹ä¸ªäººæƒ³æ³•ï¼Œè¿™å¯èƒ½éƒ½ä¸æ˜¯é€‚é…å™¨æ¨¡å¼

æˆ‘æƒ³è¦å†å¢åŠ ä¸€ä¸ªæ›´æ–°çš„æ’­æ”¾å™¨NewnewMusicPlayerï¼Œç„¶åæƒ³è¦è¿™ä¸‰ä»£æ’­æ”¾å™¨éƒ½èƒ½é€‚é…ï¼Œæ­¤æ—¶å¯ä»¥å…ˆæŠ½è±¡å‡ºä¸€ä¸ªåº•å±‚çš„æ¥å£ MediaPlayerï¼Œç„¶åç”¨å°†å®ƒä»¬ä¸‰ä¸ªå®ç°è¿™ä¸ªæ¥å£ï¼Œå†å†™ä¸€ä¸ªé€‚é…å™¨ç±»å®ç°MediaPlayeræ¥å£

```java
interface MediaPlayer{
    public void play(String file);
}

class OldMusicPlayer implements MediaPlayer{

    @Override
    public void play(String file) {
        System.out.println("æ—§æ’­æ”¾å™¨ "+ file);
    }
}


class NewMusicPlayer implements MediaPlayer{
    @Override
    public void play(String file) {
        System.out.println("æ–°æ’­æ”¾å™¨ "+ file);
    }
}
class NewnewMusicPlayer implements MediaPlayer{
    @Override
    public void play(String file) {
        System.out.println("æ›´æ–°æ’­æ”¾å™¨ " + file);
    }
}



//åˆ›å»ºä¸€ä¸ªé€‚é…å™¨
class MusicPlayerAdapter implements MediaPlayer {
    private MediaPlayer mediaPlayer;
    public MusicPlayerAdapter(MediaPlayer mediaPlayer) {
        this.mediaPlayer = mediaPlayer;
    }

    @Override
    public void play(String file) {
        mediaPlayer.play(file);
    }
}
```

å®¢æˆ·ç«¯

```java
public class Main {
    public static void main(String[] args) {
        //åˆ›å»ºæ—§ã€æ–°ã€æ›´æ–°çš„æ’­æ”¾å™¨
        OldMusicPlayer oldMusicPlayer = new OldMusicPlayer();
        NewMusicPlayer newMusicPlayer = new NewMusicPlayer();
        NewnewMusicPlayer newnewMusicPlayer = new NewnewMusicPlayer();

        //é€‚é…ä¹‹åï¼Œä¸€ä¸ªé€‚é…å™¨ç±»å°±å¯ä»¥å…¼å®¹ä¸‰ç§æ’­æ”¾æ–¹å¼
        MediaPlayer old_p = new MusicPlayerAdapter(oldMusicPlayer);
        MediaPlayer new_p = new MusicPlayerAdapter(newMusicPlayer);
        MediaPlayer newnew_p = new MusicPlayerAdapter(newnewMusicPlayer);
        old_p.play("111");
        new_p.play("111");
        newnew_p.play("111");
    }
}
```

ç»“æœï¼š

æ—§æ’­æ”¾å™¨ 111
æ–°æ’­æ”¾å™¨ 111
æ›´æ–°æ’­æ”¾å™¨ 111

æˆ‘åªèƒ½è¯´ç›¸å½“ä¼˜é›…ï¼ï¼ï¼å­¦è®¾è®¡æ¨¡å¼çš„æ—¶å€™ï¼Œå­¦ä¸€ä¸ªå°±æ„Ÿå¹ä¸€ä¸ªï¼Œå®åœ¨æ˜¯å¤ªä¼˜é›…äº†ï¼

å®Œäº†ï¼Œåˆšæƒ³å¾€ä¸‹å†™å‘ç°è¿™å’Œæ¡¥æ¥æ¨¡å¼å¥½åƒï¼Œæ™•äº†ã€‚





# æ¡¥æ¥æ¨¡å¼

æ¡¥æ¥æ¨¡å¼æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ¨¡å¼ï¼Œåœ¨æ¡¥æ¥æ¨¡å¼ä¸­ä½“ç°äº†å¾ˆå¤šé¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™çš„æ€æƒ³ï¼ŒåŒ…æ‹¬â€œå•ä¸€èŒè´£åŸåˆ™â€ã€â€œå¼€é—­åŸåˆ™â€ã€â€œåˆæˆå¤ç”¨åŸåˆ™â€ã€â€œé‡Œæ°ä»£æ¢åŸåˆ™â€ã€â€œä¾èµ–å€’è½¬åŸåˆ™â€ç­‰ã€‚ç†Ÿæ‚‰æ¡¥æ¥æ¨¡å¼æœ‰åŠ©äºæˆ‘ä»¬æ·±å…¥ç†è§£è¿™äº›è®¾è®¡åŸåˆ™ï¼Œä¹Ÿæœ‰åŠ©äºæˆ‘ä»¬å½¢æˆæ­£ç¡®çš„è®¾è®¡æ€æƒ³å’ŒåŸ¹å…»è‰¯å¥½çš„è®¾è®¡é£æ ¼ã€‚å¾—ç»†å“

å¦‚æœè¦ä½ è®¾è®¡è¿™æ ·çš„ä¸€ä¸ªç±»ï¼Œæœ‰å¤§ä¸­å°ä¸‰ç§å‹å·çš„ç¬”ï¼Œç„¶åæ¯ç§ç¬”éƒ½æœ‰èƒ½å¤Ÿç”»å‡º3ç§é¢œè‰²çš„èƒ½åŠ›ï¼Œæœ‰ä¸€ä¸ªdrawæ–¹æ³•ï¼Œè°ƒç”¨ä¼šæ˜¾ç¤ºå‡º "xxå·çš„ç¬”ç”»å‡ºäº†xxxé¢œè‰²"ã€‚ç”¨ä¼ ç»Ÿçš„æ–¹æ³•æ¥è®¾è®¡çš„è¯ï¼Œå†™ä¸€ä¸ªç¬”çš„æŠ½è±¡ç±»ï¼Œå…·ä½“ç±»å¤§ä¸­å°å‹å·ç»§æ‰¿å®ƒã€‚è¿™æ ·å†™çš„è¯ç¬”å’Œå„ç§å‹å·çš„ç¬”å°±ä¼šå’Œé¢œè‰²è€¦åˆã€‚

æ­¤æ—¶æˆ‘ä»¬å†å°†é¢œè‰²æŠ½è±¡ä¸€ä¸‹ï¼Œå†åœ¨ç¬”åˆ›å»ºçš„æ—¶å€™é‡å†™drawæ–¹æ³•ã€‚è¿™æ ·ï¼Œå°±å°†ç¬”å‹å·çš„å˜åŒ–å’Œé¢œè‰²çš„å˜åŒ–ä¸¤ä¸ªç»´åº¦åˆ†å¼€æ¥äº†ã€‚

```java
//æŠ½è±¡ç¬”
abstract class brush {
    public abstract void draw();
}
class small_brush extends brush{
    //è¿™é‡Œç”¨æŠ½è±¡ç¼–ç¨‹å°†é¢œè‰²å’Œç¬”æ¡¥æ¥
    private color color;
    public small_brush(color color) {
        this.color = color;
    }
    @Override
    public void draw() {
        System.out.println("å°å·ç¬”ç”»å‡ºäº† " + color.getcolor());
    }
}
class medium_brush extends brush{
    private color color;
    public medium_brush(color color) {
        this.color = color;
    }

    @Override
    public void draw() {
        System.out.println("ä¸­å·ç¬”ç”»å‡ºäº† " + color.getcolor());
    }
}
class big_brush extends brush {
    private color color;
    public big_brush(color color) {
        this.color = color;
    }
    @Override
    public void draw() {
        System.out.println("å¤§å·ç¬”ç”»å‡ºäº† " + color.getcolor());
    }
}

//æŠ½è±¡é¢œè‰²
abstract class color {
    public abstract String getcolor();
}
class Red extends color{
    @Override
    public String getcolor() {
        return "çº¢è‰²";
    }
}
class Yellow extends color{
    @Override
    public String getcolor() {
        return "é»„è‰²";
    }
}
class Blue extends color {
    @Override
    public String getcolor() {
        return "è“è‰²";
    }
}
```

å®¢æˆ·ç«¯

```java
public class Main {
    public static void main(String[] args) {
        color Red = new Red();
        color Yellow = new Yellow();
        color Blue = new Blue();

        brush small_brush1 = new small_brush(Red);
        brush small_brush2 = new small_brush(Yellow);
        brush small_brush3 = new small_brush(Blue);

        brush medium_brush1 = new medium_brush(Red);
        brush medium_brush2 = new medium_brush(Yellow);
        brush medium_brush3 = new medium_brush(Blue);

        brush big_brush1 = new big_brush(Red);
        brush big_brush2 = new big_brush(Yellow);
        brush big_brush3 = new big_brush(Blue);

        small_brush1.draw();
        small_brush2.draw();
        small_brush3.draw();
        medium_brush1.draw();
        medium_brush2.draw();
        medium_brush3.draw();
        big_brush1.draw();
        big_brush2.draw();
        big_brush3.draw();
    }
}

```

å¾—åˆ°ç»“æœ

//        å°å·ç¬”ç”»å‡ºäº† çº¢è‰²  
//        å°å·ç¬”ç”»å‡ºäº† é»„è‰²  
//        å°å·ç¬”ç”»å‡ºäº† è“è‰²  
//        ä¸­å·ç¬”ç”»å‡ºäº† çº¢è‰²  
//        ä¸­å·ç¬”ç”»å‡ºäº† é»„è‰²  
//        ä¸­å·ç¬”ç”»å‡ºäº† è“è‰²  
//        å¤§å·ç¬”ç”»å‡ºäº† çº¢è‰²  
//        å¤§å·ç¬”ç”»å‡ºäº† é»„è‰²  
//        å¤§å·ç¬”ç”»å‡ºäº† è“è‰²

ç”±æ­¤å¯ä»¥çœ‹å‡ºæ¡¥æ¥æ¨¡å¼æœ‰å¤šå¼ºå¤§ã€ä¼˜é›…ã€‚



é¢˜ç›®1ï¼šå‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªå›¾å½¢ç»˜åˆ¶åº”ç”¨ç¨‹åºã€‚ä½ éœ€è¦æ”¯æŒä¸åŒçš„å›¾å½¢å½¢çŠ¶ï¼ˆå¦‚åœ†å½¢ã€çŸ©å½¢ï¼‰å’Œä¸åŒçš„ç€è‰²æ–¹å¼ï¼ˆå¦‚çº¢è‰²ã€è“è‰²ï¼‰ã€‚ä½¿ç”¨æ¡¥æ¥æ¨¡å¼æ¥è®¾è®¡è¿™ä¸ªåº”ç”¨ç¨‹åºçš„ç±»ç»“æ„ï¼Œä½¿å¾—å›¾å½¢å½¢çŠ¶å’Œç€è‰²æ–¹å¼å¯ä»¥ç‹¬ç«‹åœ°æ‰©å±•å’Œå˜åŒ–ã€‚è¯·æŒ‰ç…§æ¡¥æ¥æ¨¡å¼çš„åŸåˆ™è®¾è®¡ç›¸åº”çš„ç±»å’Œæ¥å£ï¼Œå¹¶å®ç°ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ç¨‹åºï¼Œèƒ½å¤Ÿåˆ›å»ºå¹¶ç»˜åˆ¶ä¸åŒå½¢çŠ¶çš„å›¾å½¢ï¼Œä»¥åŠä»¥ä¸åŒçš„ç€è‰²æ–¹å¼è¿›è¡Œç€è‰²



```java
abstract class color {
    public abstract String getcolor();
}
class Red extends color{
    @Override
    public String getcolor() {
        return "çº¢è‰²";
    }
}
class Blue extends color{
    @Override
    public String getcolor() {
        return "è“è‰²";
    }
}
abstract class shape {
    public abstract void display();
}
class Round extends shape {
    private color color;
    public Round(color color) {
        this.color = color;
    }
    @Override
    public void display() {
        System.out.println("åœ†å½¢ç°åœ¨æ˜¯ " + color.getcolor());
    }
}
class Rectangle extends shape{
    private color color;
    public Rectangle(color color) {
        this.color = color;
    }

    @Override
    public void display() {
        System.out.println("çŸ©å½¢ç°åœ¨æ˜¯ " + color.getcolor());
    }
}
public class Main {
    public static void main(String[] args) {
        color red = new Red();
        color blue = new Blue();
        shape round1 = new Round(red);
        shape round2 = new Round(blue);
        shape rectangle1 = new Rectangle(red);
        shape rectangle2 = new Rectangle(blue);
        round1.display();
        round2.display();
        rectangle1.display();
        rectangle2.display();
    }
}
```



é¢˜ç›®äºŒï¼šSunnyè½¯ä»¶å…¬å¸æ¬²å¼€å‘ä¸€ä¸ªæ•°æ®è½¬æ¢å·¥å…·ï¼Œå¯ä»¥å°†æ•°æ®åº“ä¸­çš„æ•°æ®è½¬æ¢æˆå¤šç§æ–‡ä»¶æ ¼å¼ï¼Œä¾‹å¦‚txtã€xmlã€pdfç­‰æ ¼å¼ï¼ŒåŒæ—¶è¯¥å·¥å…·éœ€è¦æ”¯æŒå¤šç§ä¸åŒçš„æ•°æ®åº“ã€‚è¯•ä½¿ç”¨æ¡¥æ¥æ¨¡å¼å¯¹å…¶è¿›è¡Œè®¾è®¡ã€‚



å¯¹è¿™é“é¢˜æ²¡æœ‰æ€è·¯çš„è¯ï¼Œå°±å…ˆæƒ³è±¡ä¸€å¼€å§‹é‚£ä¸ªç¬”å’Œé¢œè‰²çš„ä¾‹å­ï¼Œæ— éæ˜¯ä¸€ç§ä¸œè¥¿éœ€è¦å’Œå¤šç§ä¸œè¥¿ä¸€èµ·è”åŠ¨ï¼Œå°å·ç¬”å’Œå„ç§é¢œè‰²ï¼Œä¸­å·ç¬”å’Œå„ç§é¢œè‰²ï¼Œå¤§å·ç¬”å’Œå„ç§é¢œè‰²ã€‚é‚£è¿™é‡Œå°±æ˜¯MySqlæ•°æ®åº“å’Œå„ç§æ ¼å¼è½¬æ¢ï¼ŒSqlServeræ•°æ®åº“å’Œä¸ªä¸­å›½æ ¼å¼è½¬æ¢ç­‰ç­‰

```java
abstract class File {
    public abstract String zhuanhuan();
}
class TXT extends File {
    @Override
    public String zhuanhuan() {
        return ".txt";
    }
}
class XML extends File {
    @Override
    public String zhuanhuan() {
        return ".xml";
    }
}
class PDF extends File {
    @Override
    public String zhuanhuan() {
        return ".pdf";
    }
}
abstract class Database {
    public abstract void transfer();
}
class MySql extends Database {
    private File file;
    public MySql(File file) {
        this.file = file;
    }
    @Override
    public void transfer() {
        System.out.println("MySqlæ•°æ®åº“é‡Œçš„æ•°æ®è¢«è½¬æ¢æˆäº†" + file.zhuanhuan() + "æ ¼å¼");
    }
}
class  SqlServer extends Database {
    private File file;
    public SqlServer(File file) {
        this.file = file;
    }
    @Override
    public void transfer() {
        System.out.println("SqlServeræ•°æ®åº“é‡Œçš„æ•°æ®è¢«è½¬æ¢æˆäº†" + file.zhuanhuan() + "æ ¼å¼");
    }
}
public class Main {
    public static void main(String[] args) {
        File txt = new TXT();
        File xml = new XML();
        File pdf = new PDF();
        Database mysql1 = new MySql(txt);
        Database mysql2 = new MySql(xml);
        Database mysql3 = new MySql(pdf);
        Database SqlServer1 = new SqlServer(txt);
        Database SqlServer2 = new SqlServer(xml);
        Database SqlServer3 = new SqlServer(pdf);
        mysql1.transfer();mysql2.transfer();mysql3.transfer();
        SqlServer1.transfer();SqlServer2.transfer();SqlServer3.transfer();   
        //è¾“å‡ºç»“æœï¼š
        //MySqlæ•°æ®åº“é‡Œçš„æ•°æ®è¢«è½¬æ¢æˆäº†.txtæ ¼å¼
        //MySqlæ•°æ®åº“é‡Œçš„æ•°æ®è¢«è½¬æ¢æˆäº†.xmlæ ¼å¼
        //MySqlæ•°æ®åº“é‡Œçš„æ•°æ®è¢«è½¬æ¢æˆäº†.pdfæ ¼å¼
        //SqlServeræ•°æ®åº“é‡Œçš„æ•°æ®è¢«è½¬æ¢æˆäº†.txtæ ¼å¼
        //SqlServeræ•°æ®åº“é‡Œçš„æ•°æ®è¢«è½¬æ¢æˆäº†.xmlæ ¼å¼
        //SqlServeræ•°æ®åº“é‡Œçš„æ•°æ®è¢«è½¬æ¢æˆäº†.pdfæ ¼å¼
    }
}


```







æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç‚¹æ˜¯æé«˜äº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ï¼Œåœ¨ä¸¤ä¸ªå˜åŒ–ç»´åº¦ä¸­ä»»æ„æ‰©å±•ä¸€ä¸ªç»´åº¦ï¼Œéƒ½ä¸éœ€è¦ä¿®æ”¹åŸæœ‰ç³»ç»Ÿï¼Œç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ï¼Œç¼ºç‚¹æ˜¯å¤ªéš¾ç†è§£äº†ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„ç†è§£ä¸è®¾è®¡éš¾åº¦





æ„Ÿè°¢å¤§ä½¬çš„æ•™ç¨‹ï¼Œå¸¦æˆ‘å­¦ä¹ è®¾è®¡æ¨¡å¼

[å²ä¸Šæœ€å…¨è®¾è®¡æ¨¡å¼å¯¼å­¦ç›®å½•ï¼ˆå®Œæ•´ç‰ˆï¼‰_å²ä¸Šæœ€å…¨è®¾è®¡æ¨¡å¼lovelion-CSDNåšå®¢](https://blog.csdn.net/LoveLion/article/details/17517213?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169743190816800222875841%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=169743190816800222875841&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-2-17517213-null-null.142^v96^pc_search_result_base2&utm_term=%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F&spm=1018.2226.3001.4187)
