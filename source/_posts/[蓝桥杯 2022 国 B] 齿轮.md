---

title: P8799 [蓝桥杯 2022 国 B] 齿轮(求数组中所有倍数关系)
excerpt: 无
tags: 蓝桥杯真题
categories: 蓝桥杯真题
quicklink: true
date: 2024-3-23 23:16:00

---



# [蓝桥杯 2022 国 B] 齿轮

## 题目描述

这天，小明在组装齿轮。

他一共有 $n$ 个齿轮，第 $i$ 个齿轮的半径为 $r_{i}$, 他需要把这 $n$ 个齿轮按一定顺序从左到右组装起来，这样最左边的齿轮转起来之后，可以传递到最右边的齿轮，并且这些齿轮能够起到提升或者降低转速（角速度）的作用。

![](https://luogu.oss-cn-hangzhou.aliyuncs.com/upload/vjudge_pic/lanqiao/2022_09_29_8ee8d95d6d0319bca20dg-17.jpg)

小明看着这些齿轮，突然有 $Q$ 个疑问: 能否按一定顺序组装这些齿轮使得最右边的齿轮的转速是最左边的齿轮的 $q_{i}$ 倍?

## 输入格式

输入共 $Q+2$ 行，第一行为两个正整数 $n, Q$, 表示齿轮数量和询问数量。

第二行为 $n$ 个正整数 $r_{1}, r_{2}, \ldots, r_{n}$，表示每个齿轮的半径。

后面 $Q$ 行，每行一个正整数 $q_{i}$ 表示询问。

## 输出格式

$Q$ 行，对于每个询问，如果存在至少一种组装方案满足条件，输出 `YES`, 否则输出 `NO`。

## 样例 #1

### 样例输入 #1

```
5 3
4 2 3 3 1
2
4
6
```

### 样例输出 #1

```
YES
YES
NO
```

## 提示

**【样例说明】**

询问 $1$ 方案之一：`23341`。

询问 $2$ 方案之一：`42331`。

询问 $3$ 没有方案。

**【评测用例规模与约定】**

对于 $15 \%$ 的数据，保证 $n, Q \leq 100$;

对于 $30 \%$ 的数据，保证 $n, Q \leq 2000$;

对于 $100 \%$ 的数据，保证 $n\ge 2,n, Q \leq 2 \times 10^{5} ; a_{i}, q_{i} \leq 2 \times 10^{5}$。

蓝桥杯 2022 国赛 B 组 I 题。







# 思路



初看此题，woc物理忘光了，然后想起来了 $v=wr$,就得出这题其实就是要你找出这个数组里所有有可能出现的倍数关系，那怎么找。双重循环$O(n^2)$可以找，但是只能拿30分，可以先用一个集合把所有存起来，再针对集合里每一个数，枚举它的倍数，如果枚举时的数在集合里，说明这个倍数是可行的，直接把它存在集合ans里



```python
n,Q = map(int,input().split())
ls = list(map(int,input().split()))
s = set()
ans = set()
mx = 0
for x in ls:
    mx = max(mx,x)
    if x in s:
        ans.add(1)
    s.add(x)
for x in s:
    j = 2
    while j*x <= mx:
        if j*x in s:
            ans.add(j)
        j += 1
for i in range(Q):
    q = int(input())
    if q in ans:
        print("YES")
    else:
        print("NO")


```


