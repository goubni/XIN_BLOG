---
title: Luogu1816 çº¿æ®µæ ‘åŒºé—´æœ€å°å€¼å°å˜ä½“
excerpt: åŒºé—´æœ€å°å€¼
tags: çº¿æ®µæ ‘
categories: çº¿æ®µæ ‘ç³»åˆ—
quicklink: true
date: 2023-12-21 18:16:00

---



# å¿ è¯š

## é¢˜ç›®æè¿°

è€ç®¡å®¶æ˜¯ä¸€ä¸ªèªæ˜èƒ½å¹²çš„äººã€‚ä»–ä¸ºè´¢ä¸»å·¥ä½œäº†æ•´æ•´  $10$ å¹´ã€‚è´¢ä¸»ä¸ºäº†è®©è‡ªå·²è´¦ç›®æ›´åŠ æ¸…æ¥šï¼Œè¦æ±‚ç®¡å®¶æ¯å¤©è®°  $k$ æ¬¡è´¦ã€‚ç”±äºç®¡å®¶èªæ˜èƒ½å¹²ï¼Œå› è€Œç®¡å®¶æ€»æ˜¯è®©è´¢ä¸»ååˆ†æ»¡æ„ã€‚ä½†æ˜¯ç”±äºä¸€äº›äººçš„æŒ‘æ‹¨ï¼Œè´¢ä¸»è¿˜æ˜¯å¯¹ç®¡å®¶äº§ç”Ÿäº†æ€€ç–‘ã€‚äºæ˜¯ä»–å†³å®šç”¨ä¸€ç§ç‰¹åˆ«çš„æ–¹æ³•æ¥åˆ¤æ–­ç®¡å®¶çš„å¿ è¯šï¼Œä»–æŠŠæ¯æ¬¡çš„è´¦ç›®æŒ‰  $1, 2, 3 \ldots$ ç¼–å·ï¼Œç„¶åä¸å®šæ—¶çš„é—®ç®¡å®¶é—®é¢˜ï¼Œé—®é¢˜æ˜¯è¿™æ ·çš„ï¼šåœ¨   $a$ åˆ°  $b$ å·è´¦ä¸­æœ€å°‘çš„ä¸€ç¬”æ˜¯å¤šå°‘ï¼Ÿä¸ºäº†è®©ç®¡å®¶æ²¡æ—¶é—´ä½œå‡ï¼Œä»–æ€»æ˜¯ä¸€æ¬¡é—®å¤šä¸ªé—®é¢˜ã€‚

## è¾“å…¥æ ¼å¼

è¾“å…¥ä¸­ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•°  $m, n$ï¼Œè¡¨ç¤ºæœ‰  $m$ ç¬”è´¦  $n$ è¡¨ç¤ºæœ‰  $n$ ä¸ªé—®é¢˜ã€‚

ç¬¬äºŒè¡Œä¸º  $m$ ä¸ªæ•°ï¼Œåˆ†åˆ«æ˜¯è´¦ç›®çš„é’±æ•°ã€‚

åé¢  $n$ è¡Œåˆ†åˆ«æ˜¯  $n$ ä¸ªé—®é¢˜ï¼Œæ¯è¡Œæœ‰   $2$ ä¸ªæ•°å­—è¯´æ˜å¼€å§‹ç»“æŸçš„è´¦ç›®ç¼–å·ã€‚

## è¾“å‡ºæ ¼å¼

åœ¨ä¸€è¡Œä¸­è¾“å‡ºæ¯ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼Œä»¥ä¸€ä¸ªç©ºæ ¼åˆ†å‰²ã€‚

## æ ·ä¾‹ #1

### æ ·ä¾‹è¾“å…¥ #1

```
10 3
1 2 3 4 5 6 7 8 9 10
2 7
3 9
1 10
```

### æ ·ä¾‹è¾“å‡º #1

```
2 3 1
```

## æç¤º

å¯¹äº $100\%$ çš„æ•°æ®ï¼Œ$m \leq 10^5$ï¼Œ$n \leq 10^5$ã€‚



# æ€è·¯



è¿™ä¸€é¢˜æ˜æ˜¾æ˜¯æ±‚å‡ºåŒºé—´çš„æœ€å°å€¼ï¼Œä¸€çœ¼çº¿æ®µæ ‘äº†ï¼Œé‡ç‚¹å°±æ˜¯å¦‚ä½•åœ¨çº¿æ®µæ ‘æ¨¡æ¿çš„åŸºç¡€ä¸Šæ›´æ–°æˆåŒºé—´æœ€å°å€¼å°±å¯ä»¥äº†ï¼Œåªéœ€è¦åœ¨æ›´æ–°çš„åœ°æ–¹ä¾æ¬¡æ¢å°±å¯ä»¥äº†ï¼Œæ¯”å¦‚

```cpp
void build(int p, int l, int r) {
    tr[p].l = l;
    tr[p].r = r;
    if (l == r) {
        tr[p].sum = w[l];
        return;
    }
    int m = (l + r) >> 1;
    build(lc, l, m);
    build(rc, m + 1, r);
    tr[p].sum = tr[lc].sum + tr[rc].sum;
}
```

<span style="color:red">æˆ‘ä»¬åªéœ€è¦åœ¨æ±‚å’Œçš„åœ°æ–¹æ”¹æˆæ±‚æœ€å°å€¼å°±å¯ä»¥äº†,å³</span>



```cpp
void build(int p, int l, int r) {
    tr[p].l = l;
    tr[p].r = r;
    if (l == r) {
        tr[p].min_v = w[l];
        return;
    }
    int m = (l + r) >> 1;
    build(lc, l, m);
    build(rc, m + 1, r);
    tr[p].min_v = min(tr[lc].min_v, tr[rc].min_v);
}
```



æŸ¥è¯¢ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä¾æ¬¡æ›´æ–°æœ€å°å€¼å³å¯

```cpp
int interval_query(int p,int x,int y){
	if(x<=tr[p].l&&tr[p].r<=y){
		return tr[p].min_v;
	}
	int m = tr[p].l+tr[p].r>>1;
	int v = MAX;
	if(x<=m) v = min(v,interval_query(lc,x,y));
	if(y>m) v = min(v,interval_query(rc,x,y));
	return v;
}
```



å¤§ä½“æ€è·¯å°±æ˜¯è¿™æ ·ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œä¸ŠACä»£ç 

```cpp
#include <bits/stdc++.h>
using namespace std;
#define MAX 1e9
#define N 100005
#define lc p<<1
#define rc p<<1|1
int n, w[N],m,a,b;
struct node {
    int l, r, min_v;
} tr[N * 4];

void build(int p, int l, int r) {
    tr[p].l = l;
    tr[p].r = r;
    if (l == r) {
        tr[p].min_v = w[l];
        return;
    }
    int m = (l + r) >> 1;
    build(lc, l, m);
    build(rc, m + 1, r);
    tr[p].min_v = min(tr[lc].min_v, tr[rc].min_v);
}
int interval_query(int p,int x,int y){
	if(x<=tr[p].l&&tr[p].r<=y){
		return tr[p].min_v;
	}
	int m = tr[p].l+tr[p].r>>1;
	int v = MAX;
	if(x<=m) v = min(v,interval_query(lc,x,y));
	if(y>m) v = min(v,interval_query(rc,x,y));
	return v;
}

int main(){
	cin >> n >> m;
	for(int i=1;i<=n;i++) cin >> w[i];
	build(1,1,n);
	while(m--){
		cin >> a >> b;
		cout << interval_query(1,a,b) << " ";
	}
	return 0;
}
```



æ²¡äº†ï¼Œç‹—æœŸæœ«è€ƒè¯•ï¼Œå¿«æŠŠæˆ‘é€¼æˆå‰ç«¯å·¥ç¨‹å¸ˆäº†ğŸ˜µ
